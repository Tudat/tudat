

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.7. Performing Variational Equations Propagation &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="3. Simulator Set-Up" href="index.html"/>
        <link rel="next" title="3.8. Time and State Templates" href="TimeStateTemplates.html"/>
        <link rel="prev" title="3.6. Performing State Propagation" href="simulatorCreation.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">1. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">2. Setting up State Derivative Models</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">3. Simulator Set-Up</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="integratorSettings.html">3.1. Integrator Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettings.html">3.2. Propagator Settings: Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsDependentVariables.html">3.3. Propagator Settings: Dependent Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsTermination.html">3.4. Propagator Settings: Termination Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsCoordinates.html">3.5. Propagator Settings: Conventional vs. Propagated Coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="simulatorCreation.html">3.6. Performing State Propagation</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">3.7. Performing Variational Equations Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="TimeStateTemplates.html">3.8. Time and State Templates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../estimationSetup/index.html">4. Estimation Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">5. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">6. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../otherLibraries/index.html">7. Other Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matlabInterface/index.html">MATLAB Interface</a></li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
          <li><a href="index.html">3. Simulator Set-Up</a> &raquo;</li>
        
      <li>3.7. Performing Variational Equations Propagation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/propagationSetup/variationalSimulatorCreation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="performing-variational-equations-propagation">
<span id="tudatfeaturesvariationalsimulatorcreation"></span><h1>3.7. Performing Variational Equations Propagation<a class="headerlink" href="#performing-variational-equations-propagation" title="Permalink to this headline">¶</a></h1>
<p>Up to this point, we have been concerned with propagating states of bodies only. Tudat is also capable of propagating the variational equations associated with the dynamics to produce the state transition matrix <span class="math">\(\Phi(t,t_{0})\)</span> and sensitivity matrix <span class="math">\(S(t)\)</span>, which we define here as:</p>
<div class="math">
\[\begin{split}\Phi(t,t_{0}) &amp;= \frac{\partial \mathbf{x}(t)}{\partial\mathbf{x}(t_{0})}\\
S &amp;= \frac{\partial \mathbf{x}(t)}{\partial \mathbf{p  }}\\\end{split}\]</div>
<p>where <span class="math">\(\mathbf{x}\)</span> is the propagated state, <span class="math">\(\mathbf{p}\)</span> the vector of a parameter vector (e.g. gravity field parameters, rotation model parameters, etc.), and <span class="math">\(t_{0}\)</span> denotes the initial time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In some literature, the sensitivity matrix is not defined separately, but the state transition matrix <span class="math">\(\Phi(t,t_{0})\)</span> is defined as <span class="math">\(\frac{\partial[\mathbf{x}(t);\text{ }\mathbf{p}]}{\partial[\mathbf{x}(t_{0};\text{ }\mathbf{p}])}\)</span></p>
</div>
<p>The propagation of these equations is done similarly as for the dynamics, and is executed by a (derived class of) <code class="xref py py-class docutils literal"><span class="pre">VariationalEquationsSolved</span></code></p>
<p>At the moment, the following <a class="reference internal" href="#VariationalEquationsSolver" title="VariationalEquationsSolver"><code class="xref py py-class docutils literal"><span class="pre">VariationalEquationsSolver</span></code></a> options are available or under development in Tudat:</p>
<ul class="simple">
<li>Single-arc variational equations solver.</li>
<li>Multi-arc variational equations solver.</li>
<li>Hybrid variational equations solver (under development).</li>
</ul>
<p>These are implemented in derived classes and are discussed below. Note that these objects of these classes propagate bothe the variational equations and dynamics (either concurrently or sequentially).</p>
<dl class="class">
<dt id="VariationalEquationsSolver">
<em class="property">class </em><code class="descname">VariationalEquationsSolver</code><a class="headerlink" href="#VariationalEquationsSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class from which the classes below are derived.</p>
</dd></dl>

<dl class="class">
<dt id="SingleArcVariationalEquationsSolver">
<em class="property">class </em><code class="descname">SingleArcVariationalEquationsSolver</code><a class="headerlink" href="#SingleArcVariationalEquationsSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>This derived class simulates single arc dynamics and variational equations and its constructor is:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">SingleArcVariationalEquationsSolver</span><span class="p">(</span> <span class="n">bodyMap</span><span class="p">,</span>
                                     <span class="n">integratorSettings</span><span class="p">,</span>
                                     <span class="n">propagatorSettings</span><span class="p">,</span>
                                     <span class="n">parametersToEstimate</span><span class="p">,</span>
                                     <span class="n">integrateDynamicalAndVariationalEquationsConcurrently</span><span class="p">,</span>
                                     <span class="n">variationalOnlyIntegratorSettings</span><span class="p">,</span>
                                     <span class="n">clearNumericalSolution</span><span class="p">,</span>
                                     <span class="n">integrateEquationsOnCreation</span> <span class="p">);</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">bodyMap</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="../environmentSetup/setup.html#NamedBodyMap" title="NamedBodyMap"><code class="xref py py-class docutils literal"><span class="pre">NamedBodyMap</span></code></a> the map containing all the objects of type <a class="reference internal" href="../environmentSetup/setup.html#Body" title="Body"><code class="xref py py-class docutils literal"><span class="pre">Body</span></code></a> used in the simulation.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">integratorSettings</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="integratorSettings.html#IntegratorSettings" title="IntegratorSettings"><code class="xref py py-class docutils literal"><span class="pre">IntegratorSettings</span></code></a> contains the settings of the integrator used, as discussed in <a class="reference internal" href="integratorSettings.html#tudatfeaturesintegratorsettings"><span class="std std-ref">Integrator Settings</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">propagatorSettings</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="propagatorSettings.html#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> contains the settings that defines how the dynamics is propagated, as described in <a class="reference internal" href="propagatorSettings.html#tudatfeaturespropagatorsettings"><span class="std std-ref">Propagator Settings: Basics</span></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Propagation of variational equations (for translational motion) is only supported for propagated coordinates of size 6. For a description of the difference between conventional and propagated coordinates, see <a class="reference internal" href="propagatorSettingsCoordinates.html#tudatfeaturespropagatorsettingscoordinates"><span class="std std-ref">Propagator Settings: Conventional vs. Propagated Coordinates</span></a>. On the same page (in <a class="reference internal" href="propagatorSettingsCoordinates.html#tudatfeaturespropagatorsettingspropagatedcoordinates"><span class="std std-ref">Propagated Coordinates in Tudat</span></a>) you can find a list of the available propagated coordinates and their respective sizes.</p>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">parametersToEstimate</span></code></p>
<blockquote>
<div><p><a class="reference internal" href="../estimationSetup/parameterEstimationSettings.html#EstimatableParameterSet" title="EstimatableParameterSet"><code class="xref py py-class docutils literal"><span class="pre">EstimatableParameterSet</span></code></a> contains the settings that define the parameters <span class="math">\(\mathbf{x}_{0}\)</span> and <span class="math">\(\mathbf{p}\)</span> for which the variational equations are to be solved, as described in <a class="reference internal" href="../estimationSetup/parameterEstimationSettings.html#parameterestimationsettings"><span class="std std-ref">Setting Up Estimated Parameters</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">integrateDynamicalAndVariationalEquationsConcurrently</span></code></p>
<blockquote>
<div><p>Boolean to denote whether the equations of motion and variational equations are to be propagated concurrently (default: true), or if the variational eqautions are to be solved after the equations of motion.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">variationalOnlyIntegratorSettings</span></code></p>
<p><a class="reference internal" href="integratorSettings.html#IntegratorSettings" title="IntegratorSettings"><code class="xref py py-class docutils literal"><span class="pre">IntegratorSettings</span></code></a> contains the settings of the integrator used, as discussed in <a class="reference internal" href="integratorSettings.html#tudatfeaturesintegratorsettings"><span class="std std-ref">Integrator Settings</span></a>, when propagating the variational equations separately (if <code class="docutils literal"><span class="pre">integrateDynamicalAndVariationalEquationsConcurrently</span></code> is false). This pointer is empty by default, in which case the <code class="docutils literal"><span class="pre">integratorSettings</span></code> are used.</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">clearNumericalSolution</span></code></p>
<blockquote>
<div><p>Boolean to denote whether numerical solutions of the propagated equations can be retrieved manually from the object after propagation (if false), or if they are cleared from memory (if true).</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">integrateEquationsOnCreation</span></code></p>
<blockquote>
<div><p>Boolean to denote whether the equations of motion and variational equations are to be propagated immediately when the object is created (default true).</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="MultiArcVariationalEquationsSolver">
<em class="property">class </em><code class="descname">MultiArcVariationalEquationsSolver</code><a class="headerlink" href="#MultiArcVariationalEquationsSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>This derived class allows the numerical propagation of variational equations for arc-wise dynamics. It is constructed using:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">MultiArcVariationalEquationsSolver</span><span class="p">(</span> <span class="n">bodyMap</span><span class="p">,</span>
                                    <span class="n">integratorSettings</span><span class="p">,</span>
                                    <span class="n">propagatorSettings</span><span class="p">,</span>
                                    <span class="n">parametersToEstimate</span><span class="p">,</span>
                                    <span class="n">arcStartTimes</span><span class="p">,</span>
                                    <span class="n">integrateDynamicalAndVariationalEquationsConcurrently</span><span class="p">,</span>
                                    <span class="n">variationalOnlyIntegratorSettings</span><span class="p">,</span>
                                    <span class="n">clearNumericalSolution</span><span class="p">,</span>
                                    <span class="n">integrateEquationsOnCreation</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">arcStartTimes</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">double</span> <span class="pre">&gt;</span></code> contains the times at which the separate arcs start.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="HybridArcVariationalEquationsSolver">
<em class="property">class </em><code class="descname">HybridArcVariationalEquationsSolver</code><a class="headerlink" href="#HybridArcVariationalEquationsSolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows some bodies to be propagated in a single arc, and some in a multi-arc fashion. See <a class="reference internal" href="simulatorCreation.html#HybridArcDynamicsSimulator" title="HybridArcDynamicsSimulator"><code class="xref py py-class docutils literal"><span class="pre">HybridArcDynamicsSimulator</span></code></a> for model details. It is constructed using:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">HybridArcVariationalEquationsSolver</span><span class="p">(</span> <span class="n">bodyMap</span><span class="p">,</span>
                                    <span class="n">integratorSettings</span><span class="p">,</span>
                                    <span class="n">propagatorSettings</span><span class="p">,</span>
                                    <span class="n">parametersToEstimate</span><span class="p">,</span>
                                    <span class="n">arcStartTimes</span><span class="p">,</span>
                                    <span class="n">integrateDynamicalAndVariationalEquationsConcurrently</span><span class="p">,</span>
                                    <span class="n">clearNumericalSolution</span><span class="p">,</span>
                                    <span class="n">integrateEquationsOnCreation</span> <span class="p">)</span> <span class="p">);</span>
</pre></div>
</div>
</dd></dl>

<div class="section" id="retrieving-the-variational-equation-history">
<h2>3.7.1. Retrieving the variational equation history<a class="headerlink" href="#retrieving-the-variational-equation-history" title="Permalink to this headline">¶</a></h2>
<p>Once the <a class="reference internal" href="#VariationalEquationsSolver" title="VariationalEquationsSolver"><code class="xref py py-class docutils literal"><span class="pre">VariationalEquationsSolver</span></code></a> object has been created and the equations of motion have been integrated, the propagation history of the selected bodies is stored within the <a class="reference internal" href="#VariationalEquationsSolver" title="VariationalEquationsSolver"><code class="xref py py-class docutils literal"><span class="pre">VariationalEquationsSolver</span></code></a>. To make use of it manually after propagation, such history can to be retrieved and saved to a file.</p>
<p>If the variational equations propagation history needs to be saved, the following code can be used (assuming an object of type <a class="reference internal" href="#SingleArcVariationalEquationsSolver" title="SingleArcVariationalEquationsSolver"><code class="xref py py-class docutils literal"><span class="pre">SingleArcVariationalEquationsSolver</span></code></a> called variationalEquationsSimulator has been created):</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="kt">double</span><span class="p">,</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span> <span class="o">&gt;</span> <span class="n">stateTransitionResult</span> <span class="o">=</span>
        <span class="n">variationalEquationsSimulator</span><span class="p">.</span><span class="n">getNumericalVariationalEquationsSolution</span><span class="p">(</span> <span class="p">).</span><span class="n">at</span><span class="p">(</span> <span class="mi">0</span> <span class="p">);</span>
<span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="kt">double</span><span class="p">,</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">MatrixXd</span> <span class="o">&gt;</span> <span class="n">sensitivityResult</span> <span class="o">=</span>
        <span class="n">variationalEquationsSimulator</span><span class="p">.</span><span class="n">getNumericalVariationalEquationsSolution</span><span class="p">(</span> <span class="p">).</span><span class="n">at</span><span class="p">(</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</div>
<p>Where the state transition and sensitivity matrix are storeed separately. Saving the results to a file is done in the same manner as for the dynamics. Note however, that the matrix entries of the maps in the above are spread out over a single row in the output file. The concatenation of the matrix entries is done row by row.</p>
<p>The state propagation history can also be retrieved from teh object, as follows:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span> <span class="kt">double</span><span class="p">,</span> <span class="n">Eigen</span><span class="o">::</span><span class="n">VectorXd</span> <span class="o">&gt;</span> <span class="n">integrationResult</span> <span class="o">=</span>
     <span class="n">variationalEquationsSimulator</span><span class="p">.</span><span class="n">getDynamicsSimulator</span><span class="p">(</span> <span class="p">)</span><span class="o">-&gt;</span><span class="n">getEquationsOfMotionNumericalSolution</span><span class="p">(</span> <span class="p">);</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="TimeStateTemplates.html" class="btn btn-neutral float-right" title="3.8. Time and State Templates" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="simulatorCreation.html" class="btn btn-neutral" title="3.6. Performing State Propagation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });
    });
</script>


</body>
</html>