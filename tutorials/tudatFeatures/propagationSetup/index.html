

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5. Simulator Set-Up &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="Tudat Libraries" href="../index.html"/>
        <link rel="next" title="5.1. Integrator Settings" href="integratorSettings.html"/>
        <link rel="prev" title="4.5. Thrust Guidance" href="../accelerationSetup/thrustModels.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">1. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">2. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">3. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">4. Setting up State Derivative Models</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">5. Simulator Set-Up</a><ul>
<li class="toctree-l4"><a class="reference internal" href="integratorSettings.html">5.1. Integrator Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettings.html">5.2. Propagator Settings: Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsTermination.html">5.3. Propagator Settings: Termination Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsDependentVariables.html">5.4. Propagator Settings: Dependent Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsCoordinates.html">5.5. Propagator Settings: Conventional vs. Propagated Coordinates</a></li>
<li class="toctree-l4"><a class="reference internal" href="simulatorCreation.html">5.6. Performing State Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="variationalSimulatorCreation.html">5.7. Performing Variational Equations Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="TimeStateTemplates.html">5.8. Time and State Templates</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../estimationSetup/index.html">6. Estimation Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../otherLibraries/index.html">7. Other Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matlabInterface/index.html">MATLAB Interface</a></li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
      <li>5. Simulator Set-Up</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/propagationSetup/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="simulator-set-up">
<span id="tudatfeaturessimulatorindex"></span><h1>5. Simulator Set-Up<a class="headerlink" href="#simulator-set-up" title="Permalink to this headline">Â¶</a></h1>
<p>One of the core elements of the Tudat libraries is its simulator framework. The goal of this page is discuss the implementation of such framework as well as the numerous options available. The top-level framework of the simulator is shown below:</p>
<object data="../../../_images/graphviz-5026ea38f6855abbea1c8e550cb90d858edef796.svg" type="image/svg+xml">
            <p class="warning">digraph
{
   # General diagram settings
   rankdir = &quot;LR&quot;;
   #ranksep = &quot;1.0&quot;
   splines = ortho;
   compound = true;


   # general node settings
   node [shape = box, style = filled, width = 1.25, fixedsize = true, color = lightgrey, fontname = FontAwesome, fontsize = 9];


   # specific node color settings
   DynamicsSimulator [color = lightgreen];
   NamedBodyMap, MultiArc, &quot;RungeKuttaVariable\nStepSizeSettings&quot;, IntegratorSettings [color = lightblue];
   &quot;DependentVariable(s)\nNumerical Solution&quot;, &quot;Equations of Motion\nNumerical Solution&quot; [color = peachpuff];

   # Hyperlinks (Sphinx auto referencing not working here, need to link to exact web adres)
   NamedBodyMap [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/environmentSetup/index.html#NamedBodyMap&quot;, target = &quot;_top&quot;];
   DynamicsSimulator [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/simulatorCreation.html#DynamicsSimulator&quot;, target = &quot;_top&quot;];
   IntegratorSettings [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/integratorSettings.html#IntegratorSettings&quot;, target = &quot;_top&quot;];
   &quot;RungeKuttaVariable\nStepSizeSettings&quot; [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/integratorSettings.html#RungeKuttaVariableStepSizeSettings&quot;, target = &quot;_top&quot;];
   TranslationalState [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html#TranslationalStatePropagatorSettings&quot;, target = &quot;_top&quot;];
   RotationalState [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html#RotationalStatePropagatorSettings&quot;, target = &quot;_top&quot;];
   Mass [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html#MassPropagatorSettings&quot;, target = &quot;_top&quot;];
   Custom [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html#CustomPropagatorSettings&quot;, target = &quot;_top&quot;];
   MultiType [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html#MultiTypePropagatorSettings&quot;, target = &quot;_top&quot;];
   MultiArc [href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html#MultiArcPropagatorSettings&quot;, target = &quot;_top&quot;];

   subgraph clusterIntegratorSettings
   {
      # cluster settings
      label = &quot;IntegratorSettings&quot;;
      fontsize = 9;
      style = dashed;
      href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/integratorSettings.html&quot;;
      target = &quot;_top&quot;;


      # IntegratorSettings input
      integratorType -&gt; IntegratorSettings;
      simulationStartEpoch -&gt; IntegratorSettings;
      &quot;(initial) stepSize&quot; -&gt; IntegratorSettings;


      # RungeKuttaVariableStepSizeSettings input
      integratorType -&gt; &quot;RungeKuttaVariable\nStepSizeSettings&quot;;
      simulationStartEpoch -&gt; &quot;RungeKuttaVariable\nStepSizeSettings&quot;;
      &quot;(initial) stepSize&quot; -&gt; &quot;RungeKuttaVariable\nStepSizeSettings&quot;;
      &quot;Additional \nsettings&quot; -&gt; &quot;RungeKuttaVariable\nStepSizeSettings&quot;;
   }


   subgraph clusterSingleArcPropagatorSettings
   {
      # cluster settings
      label = &quot;Single-arc PropagatorSettings&quot;;
      fontsize = 9;
      style = dashed;
      compound = true;
      href = &quot;http://tudat.tudelft.nl/tutorials/tudatFeatures/propagationSetup/propagatorSettings.html&quot;;
      target = &quot;_top&quot;;

      MultiType;
      TranslationalState -&gt; RotationalState [style = invis];
      Mass -&gt; Custom [style = invis];
   }


   # DynamicsSimulator input, use points for &quot;or&quot; blocks
   NamedBodyMap -&gt; DynamicsSimulator;
   or0, or1 [shape = circle, width = 0.2, fillcolor = white, color = black, label = or];
   Custom -&gt; or1 -&gt; DynamicsSimulator [ltail = clusterSingleArcPropagatorSettings];
   MultiArc -&gt; or1 [constraint = false];
   IntegratorSettings -&gt; or0 -&gt; DynamicsSimulator;
   &quot;RungeKuttaVariable\nStepSizeSettings&quot; -&gt; or0;

   # DynamicsSimulator output
   DynamicsSimulator -&gt; &quot;Equations of Motion\nNumerical Solution&quot;;
   DynamicsSimulator -&gt; &quot;DependentVariable(s)\nNumerical Solution&quot;;
   {rank = same; &quot;Equations of Motion\nNumerical Solution&quot;, &quot;DependentVariable(s)\nNumerical Solution&quot;};


   # Extra lines for posisitioning of nodes
   {rank = same; NamedBodyMap, DynamicsSimulator}
   MultiType -&gt; MultiArc [ltail = clusterSingleArcPropagatorSettings];
   Mass -&gt; Custom [style = invis];
}</p></object>
<object data="../../../_images/graphviz-8ee54f6bc863de6bba108d22944711b3d34e923b.svg" type="image/svg+xml">
            <p class="warning">digraph
{
   # General diagram settings
   rankdir = &quot;LR&quot;;
   splines = ortho;
   compound = true;

   subgraph clusterLegend
   {
   rank = min;
   style = dashed;


     # general node settings
     node [shape = box, style = filled, width = 1.25, fixedsize = true, color = lightgrey, fontname = FontAwesome, fontsize = 9];


     &quot;Main block&quot; [fillcolor = lightgreen];
     &quot;Optional input&quot; [style = dotted, fillcolor = lightgrey, color = black];
     &quot;Input for \nmain block&quot; [fillcolor = lightblue];
   Output [color = peachpuff];
     &quot;Optional input&quot;-&gt; &quot;Input for \nmain block&quot; -&gt; &quot;Main block&quot; -&gt; &quot;Output&quot; [style = invis];
   }
}</p></object>
<p>The top-element in such framework is the <a class="reference internal" href="simulatorCreation.html#DynamicsSimulator" title="DynamicsSimulator"><code class="xref py py-class docutils literal"><span class="pre">DynamicsSimulator</span></code></a>, which is in charge of propagating the equations of motion using the environment and acceleration models discussed in <a class="reference internal" href="../environmentSetup/index.html#tudatfeaturesenvironmentindex"><span class="std std-ref">Environment Set-up</span></a> and <a class="reference internal" href="../accelerationSetup/index.html#tudatfeaturesaccelerationindex"><span class="std std-ref">Setting up State Derivative Models</span></a>, respectively. The orbit propation is done according to the specified <a class="reference internal" href="integratorSettings.html#IntegratorSettings" title="IntegratorSettings"><code class="xref py py-class docutils literal"><span class="pre">IntegratorSettings</span></code></a> and the <a class="reference internal" href="propagatorSettings.html#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a>, which are discussed in detail in <a class="reference internal" href="integratorSettings.html#tudatfeaturesintegratorsettings"><span class="std std-ref">Integrator Settings</span></a> and <a class="reference internal" href="propagatorSettings.html#tudatfeaturespropagatorsettings"><span class="std std-ref">Propagator Settings: Basics</span></a>.</p>
<p>As shown in the figure above, there are various types of <a class="reference internal" href="integratorSettings.html#IntegratorSettings" title="IntegratorSettings"><code class="xref py py-class docutils literal"><span class="pre">IntegratorSettings</span></code></a> and <a class="reference internal" href="propagatorSettings.html#PropagatorSettings" title="PropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagatorSettings</span></code></a> depending on the particularities of the application at hand. The different types are implemented by means of derived classes, as discussed below:</p>
<dl class="docutils">
<dt><strong>Integrator Settings</strong></dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt><a class="reference internal" href="integratorSettings.html#IntegratorSettings" title="IntegratorSettings"><code class="xref py py-class docutils literal"><span class="pre">IntegratorSettings</span></code></a></dt>
<dd>This is the default derived class which is used whenever a fixed-step size integrator is used.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="xref py py-class docutils literal"><span class="pre">RungeKuttaVariableStepSizeSettings</span></code></dt>
<dd>This is a special derived class which takes additional arguments and is used whenever a Runge-Kutta variable step-size integrator is used.</dd>
</dl>
</li>
</ul>
</dd>
<dt><strong>Propagator Settings</strong></dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt><a class="reference internal" href="propagatorSettings.html#TranslationalStatePropagatorSettings" title="TranslationalStatePropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">TranslationalStatePropagatorSettings</span></code></a></dt>
<dd>This derived class defines the settings to propagate the translational dynamics.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="propagatorSettings.html#RotationalStatePropagatorSettings" title="RotationalStatePropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">RotationalStatePropagatorSettings</span></code></a></dt>
<dd>This derived class defines the settings to propagate the rotational dynamics.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="propagatorSettings.html#MassPropagationSettings" title="MassPropagationSettings"><code class="xref py py-class docutils literal"><span class="pre">MassPropagationSettings</span></code></a></dt>
<dd>This derived class defines the settings to propagate the mass of a body.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="propagatorSettings.html#CustomStatePropagatorSettings" title="CustomStatePropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">CustomStatePropagatorSettings</span></code></a></dt>
<dd>This derived class allows the propagation of user-defined dynamics.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="propagatorSettings.html#MultiTypePropagatorSettings" title="MultiTypePropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">MultiTypePropagatorSettings</span></code></a></dt>
<dd>This derived class allows to propagate simultaneously the various propagator classes defined above.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="propagatorSettings.html#MultiArcPropagatorSettings" title="MultiArcPropagatorSettings"><code class="xref py py-class docutils literal"><span class="pre">MultiArcPropagatorSettings</span></code></a></dt>
<dd>This derived class allows to propagate the dynamics for multiple arcs.</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>The reader is referred to the following sections to examine in detail how to create the dynamics simulator:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="integratorSettings.html">5.1. Integrator Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="propagatorSettings.html">5.2. Propagator Settings: Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="propagatorSettingsTermination.html">5.3. Propagator Settings: Termination Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="propagatorSettingsDependentVariables.html">5.4. Propagator Settings: Dependent Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="propagatorSettingsDependentVariables.html#saving-dependent-variables">5.4.1. Saving Dependent Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="propagatorSettingsDependentVariables.html#available-dependent-variables">5.4.2. Available Dependent Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="propagatorSettingsDependentVariables.html#setting-up-dependent-variables">5.4.3. Setting Up Dependent Variables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="propagatorSettingsCoordinates.html">5.5. Propagator Settings: Conventional vs. Propagated Coordinates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="propagatorSettingsCoordinates.html#important-to-keep-in-mind">5.5.1. Important To Keep In Mind</a></li>
<li class="toctree-l2"><a class="reference internal" href="propagatorSettingsCoordinates.html#propagated-coordinates-in-tudat">5.5.2. Propagated Coordinates in Tudat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulatorCreation.html">5.6. Performing State Propagation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="simulatorCreation.html#retrieving-the-propagation-history">5.6.1. Retrieving the Propagation History</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="variationalSimulatorCreation.html">5.7. Performing Variational Equations Propagation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="variationalSimulatorCreation.html#retrieving-the-variational-equation-history">5.7.1. Retrieving the variational equation history</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="TimeStateTemplates.html">5.8. Time and State Templates</a></li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="integratorSettings.html" class="btn btn-neutral float-right" title="5.1. Integrator Settings" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../accelerationSetup/thrustModels.html" class="btn btn-neutral" title="4.5. Thrust Guidance" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });
    });
</script>


</body>
</html>