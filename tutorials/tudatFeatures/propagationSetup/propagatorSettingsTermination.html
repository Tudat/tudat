

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.3. Propagator Settings: Termination Settings &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="5. Simulator Set-Up" href="index.html"/>
        <link rel="next" title="5.4. Propagator Settings: Dependent Variables" href="propagatorSettingsDependentVariables.html"/>
        <link rel="prev" title="5.2. Propagator Settings: Basics" href="propagatorSettings.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../prerequiredKnowledge/index.html">Pre-required Knowledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Walkthroughs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">1. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">2. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">3. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">4. Acceleration Set-Up</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">5. Simulator Set-Up</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="integratorSettings.html">5.1. Integrator Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettings.html">5.2. Propagator Settings: Basics</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">5.3. Propagator Settings: Termination Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="propagatorSettingsDependentVariables.html">5.4. Propagator Settings: Dependent Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="simulatorCreation.html">5.5. Create a Dynamics Simulator Object</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../estimationSetup/index.html">6. Estimation Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../otherLibraries/index.html">7. Other Libraries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
          <li><a href="index.html">5. Simulator Set-Up</a> &raquo;</li>
        
      <li>5.3. Propagator Settings: Termination Settings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/propagationSetup/propagatorSettingsTermination.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="propagator-settings-termination-settings">
<span id="tudatfeaturespropagatorsettingstermination"></span><h1>5.3. Propagator Settings: Termination Settings<a class="headerlink" href="#propagator-settings-termination-settings" title="Permalink to this headline">¶</a></h1>
<p>The propagation <code class="docutils literal"><span class="pre">TerminationSettings</span></code> are a key parameter in the propagation of a body’s orbit, since these will determine the computational time and the size of the output file. Depending on the application, the user may want to end the body propagation according to different criteria. Currently, the following <code class="docutils literal"><span class="pre">TerminationSettings</span></code> are offered in Tudat:</p>
<ul class="simple">
<li>Termination once a certain time has passed.</li>
<li>Termination once a dependent variable meets a certain criterion.</li>
<li>Termination once multiple criteria are met.</li>
</ul>
<p>The different types of <code class="docutils literal"><span class="pre">TerminationSettings</span></code> are implemented by means of derived classes and custom constructors, as detailed in this page.</p>
<dl class="class">
<dt id="PropagationTimeTerminationSettings">
<em class="property">class </em><code class="descname">PropagationTimeTerminationSettings</code><a class="headerlink" href="#PropagationTimeTerminationSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>As the name suggests, these settings will cause the propagation to terminate after a certain time has passed. Please note that the simulator will finish the final time-step, which may cause the termination time to be slightly overpassed. The <code class="docutils literal"><span class="pre">PropagationTimeTerminationSettings</span></code> are passed as shown:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">PropagationTerminationSettings</span> <span class="o">&gt;</span> <span class="n">terminationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">PropagationTimeTerminationSettings</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">terminationTime</span> <span class="p">);</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationSettings</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">boost::shared_ptr</span></code> that is passed to one of the derived classes of <code class="xref py py-class docutils literal"><span class="pre">PropagationSettings</span></code> discussed in <a class="reference internal" href="propagatorSettings.html#tudatfeaturespropagatorsettings"><span class="std std-ref">Propagator Settings: Basics</span></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><a class="reference internal" href="#PropagationTimeTerminationSettings" title="PropagationTimeTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationTimeTerminationSettings</span></code></a></p>
<blockquote>
<div><p>Indicates to <code class="docutils literal"><span class="pre">boost::make_shared</span></code> the constructor of the derived class being used.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationTime</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">double</span></code> that dictates the time that must pass before the simulation is terminated.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="PropagationDependentVariableTerminationSettings">
<em class="property">class </em><code class="descname">PropagationDependentVariableTerminationSettings</code><a class="headerlink" href="#PropagationDependentVariableTerminationSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>A more powerful method is the use of a <code class="xref py py-class docutils literal"><span class="pre">DependentVariable</span></code> to terminate a propagation. Using this class will terminate the propagation once the chosen dependent variable meets a certain criterion. To do so, the user needs to first create the dependent variable that will dictate the termination of the propagation:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">SingleDependentVariableSaveSettings</span> <span class="o">&gt;</span> <span class="n">terminationDependentVariable</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">SingleDependentVariableSaveSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">altitude_dependent_variable</span><span class="p">,</span> <span class="s">&quot;Vehicle&quot;</span><span class="p">,</span> <span class="s">&quot;Earth&quot;</span> <span class="p">);</span>
</pre></div>
</div>
<p>where in this example the variable created is an <code class="docutils literal"><span class="pre">altitude_dependent_variable</span></code> which provides the altitude of <code class="docutils literal"><span class="pre">Vehicle</span></code> with respect to <code class="docutils literal"><span class="pre">Earth</span></code>.</p>
<p>The versatility in the use of <a class="reference internal" href="#PropagationDependentVariableTerminationSettings" title="PropagationDependentVariableTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationDependentVariableTerminationSettings</span></code></a> to terminate a simulation lies in the large number of dependent variable types available in Tudat. The user is referred to <a class="reference internal" href="propagatorSettingsDependentVariables.html#tudatfeaturespropagatorsettingsdependentvariables"><span class="std std-ref">Propagator Settings: Dependent Variables</span></a> for a full list of the available dependent variables as well as their use.</p>
<p>Once the dependent variable that terminates the simulation has been created, it must be passed to the <code class="docutils literal"><span class="pre">terminationSettings</span></code>:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">PropagationTerminationSettings</span> <span class="o">&gt;</span> <span class="n">terminationSettings</span> <span class="o">=</span>
     <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">PropagationDependentVariableTerminationSettings</span> <span class="o">&gt;</span><span class="p">(</span>
         <span class="n">terminationDependentVariable</span><span class="p">,</span> <span class="n">limitValue</span><span class="p">,</span> <span class="n">useAsLowerLimit</span> <span class="p">);</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><a class="reference internal" href="#PropagationDependentVariableTerminationSettings" title="PropagationDependentVariableTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationDependentVariableTerminationSettings</span></code></a></p>
<blockquote>
<div><p>Indicates to <code class="docutils literal"><span class="pre">boost::make_shared</span></code> the constructor of the derived class being used.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationDependentVariable</span></code></p>
<blockquote>
<div><p>Contains the dependent variable used for termination, in this example <code class="docutils literal"><span class="pre">altitude_dependent_variable</span></code> as declared above.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">limitValue</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">double</span></code> that provides the lower-limit (or higher-limit) that the :literal:`` can take before terminating the propagation.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">useAsLowerLimit</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">bool</span></code> that dictates whether the <code class="docutils literal"><span class="pre">limitValue</span></code> is used as a lower-limit (true) or as a higher-limit (false).</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="PropagationHybridTerminationSettings">
<em class="property">class </em><code class="descname">PropagationHybridTerminationSettings</code><a class="headerlink" href="#PropagationHybridTerminationSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>It may be possible that the user desires to terminate a propagation according several criteria, where such criteria may or may not be fulfilled simulataneously. To do so, the user must include the following code:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">PropagationTerminationSettings</span> <span class="o">&gt;</span> <span class="n">terminationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">PropagationHybridTerminationSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">terminationSettingsList</span><span class="p">,</span> <span class="n">fulFillSingleCondition</span> <span class="p">);</span>
</pre></div>
</div>
<p>where:</p>
<ul>
<li><p class="first"><a class="reference internal" href="#PropagationHybridTerminationSettings" title="PropagationHybridTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationHybridTerminationSettings</span></code></a></p>
<blockquote>
<div><p>Indicates to <code class="docutils literal"><span class="pre">boost::make_shared</span></code> the constructor of the derived class being used.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">terminationSettingsList</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">boost::shared_ptr&lt;</span> <span class="pre">PropagationTerminationSettings</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> where each of its elements contains derived classes of <code class="xref py py-class docutils literal"><span class="pre">TerminationSettings</span></code>. The desired <code class="xref py py-class docutils literal"><span class="pre">TerminationSettings</span></code> can be added by using the <code class="docutils literal"><span class="pre">push_back</span></code> method of <code class="docutils literal"><span class="pre">std::vector</span></code>, where the pushed elements are the <code class="docutils literal"><span class="pre">terminationSettings</span></code> objects discussed above for <a class="reference internal" href="#PropagationTimeTerminationSettings" title="PropagationTimeTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationTimeTerminationSettings</span></code></a> and <a class="reference internal" href="#PropagationDependentVariableTerminationSettings" title="PropagationDependentVariableTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationDependentVariableTerminationSettings</span></code></a>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">fulFillSingleCondition</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">bool</span></code> that determines whether the propagation terminates once a single condition is met (true) or whether all conditions must be met (false).</p>
</div></blockquote>
</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">It is possible to combine both <a class="reference internal" href="#PropagationTimeTerminationSettings" title="PropagationTimeTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationTimeTerminationSettings</span></code></a> and <a class="reference internal" href="#PropagationDependentVariableTerminationSettings" title="PropagationDependentVariableTerminationSettings"><code class="xref py py-class docutils literal"><span class="pre">PropagationDependentVariableTerminationSettings</span></code></a>.</p>
</div>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="propagatorSettingsDependentVariables.html" class="btn btn-neutral float-right" title="5.4. Propagator Settings: Dependent Variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="propagatorSettings.html" class="btn btn-neutral" title="5.2. Propagator Settings: Basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>