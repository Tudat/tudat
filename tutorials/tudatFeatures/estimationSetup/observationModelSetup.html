

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.2. Setting up Observation Models &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="6. Estimation Set-Up" href="index.html"/>
        <link rel="next" title="6.3. Simulating Observations" href="observationSimulation.html"/>
        <link rel="prev" title="6.1. Setting up the link ends" href="linkEndSetup.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../prerequiredKnowledge/index.html">Pre-required Knowledge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Walkthroughs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">1. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">2. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">3. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">4. Acceleration Set-Up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../propagationSetup/index.html">5. Simulator Set-Up</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">6. Estimation Set-Up</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="linkEndSetup.html">6.1. Setting up the link ends</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">6.2. Setting up Observation Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="observationSimulation.html">6.3. Simulating Observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="parameterEstimationSettings.html">6.4. Setting Up Estimated Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="estimationExecution.html">6.5. Parameter Estimation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../otherLibraries/index.html">7. Other Libraries</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
          <li><a href="index.html">6. Estimation Set-Up</a> &raquo;</li>
        
      <li>6.2. Setting up Observation Models</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/estimationSetup/observationModelSetup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setting-up-observation-models">
<span id="observationmodelsetup"></span><h1>6.2. Setting up Observation Models<a class="headerlink" href="#setting-up-observation-models" title="Permalink to this headline">¶</a></h1>
<div class="section" id="observation-types">
<h2>6.2.1. Observation Types<a class="headerlink" href="#observation-types" title="Permalink to this headline">¶</a></h2>
<p>Tudat supports a diverse set of observation types, which are defined in the <code class="docutils literal"><span class="pre">ObservableType</span></code> enum. Below, we provide a list of observable types, with a brief description, as well as the set of link end types that they require:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">one_way_range</span></code> Range (in meters) between two link ends. Observable has size 1. Requires <code class="docutils literal"><span class="pre">transmitter</span></code> and <code class="docutils literal"><span class="pre">receiver</span></code> link ends.</li>
<li><code class="docutils literal"><span class="pre">angular_position</span></code> Right ascension and declination (in radians) of one link end (the transmitter) as observed by other link end (the receiver) as measured in the base frame in which the states of the link ends are defined. Observable has size 2. Requires <code class="docutils literal"><span class="pre">transmitter</span></code> and <code class="docutils literal"><span class="pre">receiver</span></code> link ends.</li>
<li><code class="docutils literal"><span class="pre">position_observable</span></code> Three-dimensional position of link end (in m) as measured in base the frame in which the state of the link end is defined. Observable has size 3 (<em>x</em>, <em>y</em> and <em>z</em> components). Requires <code class="docutils literal"><span class="pre">observed_body</span></code> link end, which directly defines the body of which an observation is taken. Note that this observable is not realized in practice, but is typically used for testing or analysis purposes. It does not use a light-time calculation</li>
<li><code class="docutils literal"><span class="pre">one_way_doppler</span></code> Doppler effect of a signal (dimensionless) between two link ends. Observable has size 1. The value is com[puted from range-rate between the link ends, divided by <em>c</em>.  Requires <code class="docutils literal"><span class="pre">transmitter</span></code> and <code class="docutils literal"><span class="pre">receiver</span></code> link ends.</li>
<li><code class="docutils literal"><span class="pre">one_way_differenced_range</span></code> Doppler observable as it is typically obtained in interplanetary tracking in so-called ‘closed-loop’ mode (in m/s) between two link ends. Observable has size 1. The value is computed from the averaged range-rate over some integration time (see below). Requires <code class="docutils literal"><span class="pre">transmitter</span></code> and <code class="docutils literal"><span class="pre">receiver</span></code> link ends.</li>
<li><code class="docutils literal"><span class="pre">n_way_range</span></code> Accumulated range (in meters) over any number of signal paths, may be used for two-way range (as in SLR or deep space tracking), as well as more exotic situations where more than 2 signal paths are used in generating the observable (as was the case for, for instance, the SELENE mission) Observable has size 1. The value is com[puted accumulating the light-time (multiplied by <em>c</em>) with any retranmission delays that the user defines (see below) Requires <code class="docutils literal"><span class="pre">transmitter</span></code>, <code class="docutils literal"><span class="pre">receiver</span></code>, as well as <code class="docutils literal"><span class="pre">reflector1</span></code>, <code class="docutils literal"><span class="pre">reflector2</span></code> … <code class="docutils literal"><span class="pre">reflectorX</span></code> for X+1 signal paths (when only a <code class="docutils literal"><span class="pre">transmitter</span></code> and <code class="docutils literal"><span class="pre">receiver</span></code> are defined the observation is identical to a <code class="docutils literal"><span class="pre">one_way_range</span></code>)</li>
</ul>
<p>The settings for most obsevation model types are provided to an object of the <a class="reference internal" href="#ObservationSettings" title="ObservationSettings"><code class="xref py py-class docutils literal"><span class="pre">ObservationSettings</span></code></a> class, which takes the type of observable, the light-time correction, se AAAA and observation biases AAAAA. For some observation models, however, specific additional information is required. Below the input to these classes is discussed in detail.</p>
<dl class="class">
<dt id="ObservationSettings">
<em class="property">class </em><code class="descname">ObservationSettings</code><a class="headerlink" href="#ObservationSettings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="docutils">
<dt>An <code class="docutils literal"><span class="pre">ObservationSettings</span></code> is created as follows:</dt>
<dd><div class="first highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">ObservationSettings</span> <span class="o">&gt;</span> <span class="n">observationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">ObservationSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">observableType</span><span class="p">,</span> <span class="n">lightTimeCorrectionsList</span><span class="p">,</span> <span class="n">biasSettings</span> <span class="p">);</span>
</pre></div>
</div>
<p>where:</p>
<ul class="last">
<li><p class="first"><code class="docutils literal"><span class="pre">observableType</span></code></p>
<blockquote>
<div><dl class="docutils">
<dt><code class="docutils literal"><span class="pre">ObservableType</span></code> that defines the type of observable. An <code class="docutils literal"><span class="pre">ObservationSettings</span></code> object may be created directly for the following obsevable types:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">one_way_range</span></code></li>
<li><code class="docutils literal"><span class="pre">angular_position</span></code></li>
<li><code class="docutils literal"><span class="pre">position_observable</span></code></li>
</ul>
</dd>
</dl>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">lightTimeCorrectionsList</span></code></p>
<blockquote>
<div><p>A list of light-time corrections of type <code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">boost::shared_ptr&lt;</span> <span class="pre">LightTimeCorrectionSettings</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> that are used to compute the light-time between the link ends.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">biasSettings</span></code></p>
<blockquote>
<div><p>An object that defines the settings for an observation bias, of type <code class="docutils literal"><span class="pre">boost::shared_ptr&lt;</span> <span class="pre">ObservationBiasSettings</span> <span class="pre">&gt;</span></code></p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
<p>Note that the light-time correction and bias settings are empty by default, so that:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">ObservationSettings</span> <span class="o">&gt;</span> <span class="n">observationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">ObservationSettings</span> <span class="o">&gt;</span><span class="p">(</span> <span class="n">observableType</span> <span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>and:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">ObservationSettings</span> <span class="o">&gt;</span> <span class="n">observationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">ObservationSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">observableType</span><span class="p">,</span> <span class="n">lightTimeCorrectionsList</span><span class="p">,</span> <span class="n">biasSettings</span> <span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>may be used as well to create an observation model without light-time corrections or biases (in the case of the former) and no biases (in the case of the latter).</p>
<p>Additionally, a second constructor is provided that takes a single light-time correction setting, instead of a list, as its second argument. So, you may substitute the input of type <code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">boost::shared_ptr&lt;</span> <span class="pre">LightTimeCorrectionSettings</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> by an input of type <code class="docutils literal"><span class="pre">boost::shared_ptr&lt;</span> <span class="pre">LightTimeCorrectionSettings</span> <span class="pre">&gt;</span></code>.</p>
<dl class="class">
<dt id="OneWayDifferencedRangeRateObservationSettings">
<em class="property">class </em><code class="descname">OneWayDifferencedRangeRateObservationSettings</code><a class="headerlink" href="#OneWayDifferencedRangeRateObservationSettings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The <code class="docutils literal"><span class="pre">OneWayDifferencedRangeRateObservationSettings</span></code> class is used to define settings for one-way differenced range observables (typically termed one-way Doppler in the deep-space tracking community). An object of this type is created as follows, similar to an <code class="docutils literal"><span class="pre">ObservationSettings</span></code> object:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">OneWayDifferencedRangeRateObservationSettings</span> <span class="o">&gt;</span> <span class="n">observationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">OneWayDifferencedRangeRateObservationSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">integrationTimeFunction</span><span class="p">,</span> <span class="n">lightTimeCorrectionsList</span><span class="p">,</span> <span class="n">biasSettings</span> <span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>where no input on the type of observable is given (it is <code class="docutils literal"><span class="pre">one_way_differenced_range</span></code> by default). The new input is:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">integrationTimeFunction</span></code></p>
<blockquote>
<div><p><code class="docutils literal"><span class="pre">boost::function&lt;</span> <span class="pre">double(</span> <span class="pre">const</span> <span class="pre">double</span> <span class="pre">)</span> <span class="pre">&gt;</span></code> that returns the integration time of the observable as a function of observation time (function input). In many cases, the integration time will be constant, and you may use a <code class="docutils literal"><span class="pre">boost::lambda</span></code>, so for a conmstant 60 s integration time:</p>
</div></blockquote>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">function</span><span class="o">&lt;</span> <span class="kt">double</span><span class="p">(</span> <span class="k">const</span> <span class="kt">double</span> <span class="p">)</span> <span class="o">&gt;</span>  <span class="n">integrationTimeFunction</span> <span class="o">=</span>
    <span class="n">boost</span><span class="o">::</span><span class="n">lambda</span><span class="o">::</span><span class="n">constant</span><span class="p">(</span> <span class="mf">60.0</span> <span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
</div></blockquote>
<p>As is the case for the <a class="reference internal" href="#ObservationSettings" title="ObservationSettings"><code class="xref py py-class docutils literal"><span class="pre">ObservationSettings</span></code></a> class, the second and third constructor argument are optional, and the second argument may be either a <code class="docutils literal"><span class="pre">std::vector</span></code> of <code class="docutils literal"><span class="pre">boost::shared_ptr&lt;</span> <span class="pre">LightTimeCorrectionSettings</span> <span class="pre">&gt;</span></code>, or a single such object.</p>
<dl class="class">
<dt id="NWayRangeObservationSettings">
<em class="property">class </em><code class="descname">NWayRangeObservationSettings</code><a class="headerlink" href="#NWayRangeObservationSettings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The <code class="docutils literal"><span class="pre">NWayRangeObservationSettings</span></code> class is used to define settings for n-way range observables. An object of this type is created as follows:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">NWayRangeObservationSettings</span> <span class="o">&gt;</span> <span class="n">observationSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">NWayRangeObservationSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">oneWayRangeObsevationSettings</span><span class="p">,</span> <span class="n">retransmissionTimesFunction</span><span class="p">,</span> <span class="n">biasSettings</span> <span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>where no input on the type of observable is given (it is <code class="docutils literal"><span class="pre">n_way_range</span></code> by default). The bias settings input is handled in the same way as for the <a class="reference internal" href="#ObservationSettings" title="ObservationSettings"><code class="xref py py-class docutils literal"><span class="pre">ObservationSettings</span></code></a> class (and is again empty by default). The other input arguments are:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">oneWayRangeObsevationSettings</span></code></p>
<blockquote>
<div><p>A <code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">boost::shared_ptr&lt;</span> <span class="pre">ObservationSettings</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> list, that has the observation settings for each leg of the n-way link. Note that the observable type of each of the <a class="reference internal" href="#ObservationSettings" title="ObservationSettings"><code class="xref py py-class docutils literal"><span class="pre">ObservationSettings</span></code></a> in this list must be <code class="docutils literal"><span class="pre">one_way_range</span></code>.</p>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">retransmissionTimesFunction</span></code></p>
<blockquote>
<div><p>A <code class="docutils literal"><span class="pre">boost::function&lt;</span> <span class="pre">std::vector&lt;</span> <span class="pre">double</span> <span class="pre">&gt;(</span> <span class="pre">const</span> <span class="pre">double</span> <span class="pre">)</span> <span class="pre">&gt;</span></code> list that returns the retransmission time at each of the intermediate link ends. For instance, for a Graz station -&gt; LRO -&gt; Matera station n-way-range observable, there may be some delay between LRO receiving the signal from Graz, and retransmitting the signal to Matera. The <code class="docutils literal"><span class="pre">retransmissionTimesFunction</span></code> list returns this delay as a function of the observation time at the retransmitting link end. As was the case for the integration time in the <a class="reference internal" href="#OneWayDifferencedRangeRateObservationSettings" title="OneWayDifferencedRangeRateObservationSettings"><code class="xref py py-class docutils literal"><span class="pre">OneWayDifferencedRangeRateObservationSettings</span></code></a> class, you can use <code class="docutils literal"><span class="pre">boost::lambda</span></code> to define constant retransmission delay. When providing an empty <code class="docutils literal"><span class="pre">std::vector</span></code>, no retransmission delay is assumed.</p>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="OneWayDopperObservationSettings">
<em class="property">class </em><code class="descname">OneWayDopperObservationSettings</code><a class="headerlink" href="#OneWayDopperObservationSettings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>The <code class="docutils literal"><span class="pre">OneWayDopperObservationSettings</span></code> class is used to define settings for one-way Doppler observables. Here, the term Doppler is used in the instantaneous sense, and is distinct from what is typically termed Doppler in the deep-space tracking community. An object of this type is created as follows:</p>
</div>
<div class="section" id="light-time-corrections">
<h2>6.2.2. Light-time Corrections<a class="headerlink" href="#light-time-corrections" title="Permalink to this headline">¶</a></h2>
<p>When computing the basic light-time between two link ends, the Euclidean distance between them is computed for a signal travelling at exactly <em>c</em> (the speed of light in vacuum). However, various effects must in reality be accounted for to compute the true light time. Tudat currently supports:</p>
<ul class="simple">
<li>First-order relativistic light-time correction: the correction to the light time of a (set of) stationary point masses, computed up to <span class="math">\(c^{-2}\)</span> according to general relativity.</li>
</ul>
<p>As is the case with many other models, a base class settings object is provided <code class="docutils literal"><span class="pre">LightTimeCorrectionSettings</span></code>. Specific light-time corrections are defined in derived classes:</p>
<dl class="class">
<dt id="FirstOrderRelativisticLightTimeCorrectionSettings">
<em class="property">class </em><code class="descname">FirstOrderRelativisticLightTimeCorrectionSettings</code><a class="headerlink" href="#FirstOrderRelativisticLightTimeCorrectionSettings" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>The <a class="reference internal" href="#FirstOrderRelativisticLightTimeCorrectionSettings" title="FirstOrderRelativisticLightTimeCorrectionSettings"><code class="xref py py-class docutils literal"><span class="pre">FirstOrderRelativisticLightTimeCorrectionSettings</span></code></a> defines settings for a first-order relativistic correction to the light-time, as formulated by <em>e.g.</em> Moyer (2000). The class is created by:</p>
<blockquote>
<div><div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">FirstOrderRelativisticLightTimeCorrectionSettings</span> <span class="o">&gt;</span> <span class="n">lightTimeCorrectionSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">FirstOrderRelativisticLightTimeCorrectionSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">perturbingBodies</span> <span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
<p>The input is:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal"><span class="pre">perturbingBodies</span></code></p>
<blockquote>
<div><p>A <code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">std::string</span> <span class="pre">&gt;</span></code> containing the names of the bodies due to which the light-time correction is to be taken into account.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">One ambiguity in the model is the time at which the states of the perturbing bodies are evaluated. We distinguish two cases: one where the perturbing body contains one of link ends, and one where it does not. In the case where the perturbing body contains a link end (for instance perturbation due to Earth gravity field, with one of the link ends being an Earth-based station), the time at which the Earth’s state is evaluated equals the transmission time if Earth acts as transmitter, and reception time if Earth acts as receiver. In other cases, where the perturbing body is not involved in the link ends, its state is evaluated at the midpoint time between transmitter and receiver.</p>
</div>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="observation-biases">
<h2>6.2.3. Observation Biases<a class="headerlink" href="#observation-biases" title="Permalink to this headline">¶</a></h2>
<p>Real observations in reality often differ (slightly) from the physical ideal value due to for instance instrumental effects at the link ends. Part of these effects influence the observation in a predictable manner, and can be modelled deterministically. It is these deterministic effects that we collectively term observation biases in Tudat. The stochastic errors are not used as part of the observation model in Tudat, but can be incorporated when simulating observations.</p>
<p>In Tudat, the following types of biases are currently incorporated, where <span class="math">\(h\)</span> is the physically ideal observation, and <span class="math">\(\tilde{h}\)</span> is the biases version of the observable.</p>
<blockquote>
<div><ul class="simple">
<li>Relative bias <span class="math">\(K_{r}\)</span>, which influences the observable as:</li>
</ul>
<div class="math">
\[\tilde{h}=h(1+K_{r})\]</div>
<p>For an observable with size greater than 1, <span class="math">\(K_{r}\)</span> is a vector and the multiplication is component-wise.</p>
<ul class="simple">
<li>Absolute bias <span class="math">\(K_{a}\)</span>, which influences the observable as:</li>
</ul>
<div class="math">
\[\tilde{h}=h+K_{a}\]</div>
<p>For an observable with size greater than 1, <span class="math">\(K_{a}\)</span> is a vector and the multiplication is component-wise.</p>
<ul class="simple">
<li>A combined bias, which is computed from any number of the above bias types combined. Note that each contribution of the combined bias is computed from the unbiased observable, so when applying both a relative and absolute bias, we get:</li>
</ul>
<div class="math">
\[\tilde{h}=h+K_{a}+hK_{r}\]</div>
<p>And, crucially:</p>
<div class="math">
\[\tilde{h}\neq (h+K_{a})(1+K_{r})\]</div>
</div></blockquote>
<p>As discussed above, the biases are created by passing a <code class="xref py py-class docutils literal"><span class="pre">ObservationBiasSettings</span></code> (or derived class) object to the <a class="reference internal" href="#ObservationSettings" title="ObservationSettings"><code class="xref py py-class docutils literal"><span class="pre">ObservationSettings</span></code></a> (or derived class)  constructor. Each bias type has a dedicated derived class of <code class="xref py py-class docutils literal"><span class="pre">ObservationBiasSettings</span></code>, which are defined as follows:</p>
<dl class="class">
<dt id="ConstantObservationBiasSettings">
<em class="property">class </em><code class="descname">ConstantObservationBiasSettings</code><a class="headerlink" href="#ConstantObservationBiasSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">ConstantObservationBiasSettings</span></code> class is used to define settings for an absolute bias <span class="math">\(K_{a}\)</span> and is created by:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">ConstantObservationBiasSettings</span> <span class="o">&gt;</span> <span class="n">observationBiasSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">ConstantObservationBiasSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">observationBias</span> <span class="p">);</span>
</pre></div>
</div>
<p>The input is:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">observationBias</span></code></p>
<blockquote>
<div><p>An <code class="docutils literal"><span class="pre">Eigen::VectorXd</span></code> of the same size as the observable (see AAAAA) containing the values of the vector <span class="math">\(K_{a}\)</span>.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="ConstantRelativeObservationBiasSettings">
<em class="property">class </em><code class="descname">ConstantRelativeObservationBiasSettings</code><a class="headerlink" href="#ConstantRelativeObservationBiasSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">ConstantRelativeObservationBiasSettings</span></code> class is used to define settings for an absolute bias <span class="math">\(K_{r}\)</span> and is created by:</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">ConstantRelativeObservationBiasSettings</span> <span class="o">&gt;</span> <span class="n">observationBiasSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">ConstantRelativeObservationBiasSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">observationBias</span> <span class="p">);</span>
</pre></div>
</div>
<p>The input is:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">observationBias</span></code></p>
<blockquote>
<div><p>An <code class="docutils literal"><span class="pre">Eigen::VectorXd</span></code> of the same size as the observable (see AAAAA) containing the values of the vector <span class="math">\(K_{r}\)</span>.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="MultipleObservationBiasSettings">
<em class="property">class </em><code class="descname">MultipleObservationBiasSettings</code><a class="headerlink" href="#MultipleObservationBiasSettings" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal"><span class="pre">MultipleObservationBiasSettings</span></code> class is used to define settings for a combined bias, that is composed of multiple bias models.</p>
<div class="highlight-cpp"><div class="highlight"><pre><span></span><span class="n">boost</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span> <span class="n">MultipleObservationBiasSettings</span> <span class="o">&gt;</span> <span class="n">observationBiasSettings</span> <span class="o">=</span>
      <span class="n">boost</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span> <span class="n">MultipleObservationBiasSettings</span> <span class="o">&gt;</span><span class="p">(</span>
          <span class="n">biasSettingsList</span> <span class="p">);</span>
</pre></div>
</div>
<p>The input is:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">biasSettingsList</span></code></p>
<blockquote>
<div><p>A <code class="docutils literal"><span class="pre">std::vector&lt;</span> <span class="pre">boost::shared_ptr&lt;</span> <span class="pre">ObservationBiasSettings</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code> list containing the bias models to be applied.</p>
</div></blockquote>
</li>
</ul>
</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="observationSimulation.html" class="btn btn-neutral float-right" title="6.3. Simulating Observations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="linkEndSetup.html" class="btn btn-neutral" title="6.1. Setting up the link ends" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>