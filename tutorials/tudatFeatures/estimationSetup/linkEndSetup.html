

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.1. Setting up the link ends &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="4. Estimation Set-Up" href="index.html"/>
        <link rel="next" title="4.2. Setting up Observation Models" href="observationModelSetup.html"/>
        <link rel="prev" title="4. Estimation Set-Up" href="index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Tudat Libraries</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../environmentSetup/index.html">1. Environment Set-up</a></li>
<li class="toctree-l3"><a class="reference internal" href="../accelerationSetup/index.html">2. Setting up State Derivative Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../propagationSetup/index.html">3. Simulator Set-Up</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">4. Estimation Set-Up</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">4.1. Setting up the link ends</a></li>
<li class="toctree-l4"><a class="reference internal" href="observationModelSetup.html">4.2. Setting up Observation Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="observationSimulation.html">4.3. Simulating Observations</a></li>
<li class="toctree-l4"><a class="reference internal" href="parameterEstimationSettings.html">4.4. Setting Up Estimated Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="estimationExecution.html">4.5. Parameter Estimation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../astroTools/index.html">5. Basic Astrodynamics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lowThrustTrajectoryDesign/index.html">Low-Thrust Trajectory Design Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mathTools/index.html">6. Basic Mathematics Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../otherLibraries/index.html">7. Other Libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../matlabInterface/index.html">MATLAB Interface</a></li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">Tudat Libraries</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">4. </span>Estimation Set-Up</a> &raquo;</li>
        
      <li><span class="section-number">4.1. </span>Setting up the link ends</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/tudatFeatures/estimationSetup/linkEndSetup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="setting-up-the-link-ends">
<span id="linkendsetup"></span><h1><span class="section-number">4.1. </span>Setting up the link ends<a class="headerlink" href="#setting-up-the-link-ends" title="Permalink to this headline">¶</a></h1>
<p>In Tudat, an observation model is referred to a number of link ends. For a one-way range model, for instance, a receiver and transmitter are required, both of which are termed a ‘link end’. An <code class="docutils literal notranslate"><span class="pre">enum</span></code> termed <code class="docutils literal notranslate"><span class="pre">LinkEndType</span></code> is available that lists all the possible kinds of link ends. A full list of observation models, as well as the link ends that they require, is given on the page on <a class="reference internal" href="observationModelSetup.html#observationmodelsetup"><span class="std std-ref">Setting up Observation Models</span></a>.</p>
<div class="section" id="ground-station-creation">
<span id="groundstationcreation"></span><h2><span class="section-number">4.1.1. </span>Ground Station Creation<a class="headerlink" href="#ground-station-creation" title="Permalink to this headline">¶</a></h2>
<p>Often, you will need to define the positions of ground stations on celestial bodies to/from which observations are made. Presently, the position of a ground station is fixed in the body-fixed frame of the body on which it is located, but modifications to allow a time-varying position (due to tides, continental drift, <em>etc.</em>) are planned.</p>
<p>With the present setup, you must provide only the name and position (as an <code class="docutils literal notranslate"><span class="pre">Eigen::Vector3d</span></code>) of the ground station to create it. The position may be defined in several coordinate systems, defined by an enum of <code class="docutils literal notranslate"><span class="pre">PositionElementTypes</span></code>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cartesian_position</span></code> For this type, the three entries of the position are simply the <em>x</em>, <em>y</em> and <em>z</em> components in the body-fixed frame.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">spherical_position</span></code> For this type, the three entries of the position are the distance from the body’s center of mass, and the geocentric latitude and longitude on the body (in that order).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geodetic_position</span></code> For this type, the three entries of the position are the altitude (w.r.t. the body’s shape model), the geodetic latitude and the longitude (in that order).</p></li>
</ul>
<p>Now, creating a ground station is done by:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="w"> </span><span class="n">Body</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">earth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">...;</span><span class="c1">// Define object for Earth</span>

<span class="c1">// Define name of station</span>
<span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">stationName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Graz&quot;</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Position of ground station</span>
<span class="n">Eigen</span><span class="o">::</span><span class="n">Vector3d</span><span class="w"> </span><span class="n">stationPosition</span><span class="p">;</span><span class="w"></span>
<span class="n">stationPosition</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mf">4194511.7</span><span class="p">,</span><span class="w"> </span><span class="mf">1162789.7</span><span class="p">,</span><span class="w"> </span><span class="mf">4647362.5</span><span class="p">;</span><span class="w"></span>
<span class="n">PositionElementTypes</span><span class="w"> </span><span class="n">positionType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cartesian_position</span><span class="p">;</span><span class="w"></span>

<span class="n">createGroundStation</span><span class="p">(</span><span class="w"> </span><span class="n">earth</span><span class="p">,</span><span class="w"> </span><span class="n">stationName</span><span class="p">,</span><span class="w"> </span><span class="n">stationPosition</span><span class="p">,</span><span class="w"> </span><span class="n">positionType</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Which will create a ground station named <code class="docutils literal notranslate"><span class="pre">&quot;Graz&quot;</span></code> on the body <code class="docutils literal notranslate"><span class="pre">earth</span></code> at the given position.</p>
</div>
<div class="section" id="creating-a-set-of-link-ends">
<h2><span class="section-number">4.1.2. </span>Creating a Set of Link Ends<a class="headerlink" href="#creating-a-set-of-link-ends" title="Permalink to this headline">¶</a></h2>
<p>A set of link ends used for a given observable are stored in a <code class="docutils literal notranslate"><span class="pre">LinkEnds</span></code> type, which is a <code class="docutils literal notranslate"><span class="pre">typedef</span></code> for <code class="docutils literal notranslate"><span class="pre">std::map&lt;</span> <span class="pre">LinkEndType,</span> <span class="pre">std::pair&lt;</span> <span class="pre">std::string,</span> <span class="pre">std::string</span> <span class="pre">&gt;</span> <span class="pre">&gt;</span></code>. As you can see, the map value is a pair of strings. The first entry of the string is the body on which the link end is placed, the second entry the reference point on this body (typically the ground station). In the case where the second entry is empty (as is often the case for spacecraft), the body’s center of mass is used. An example of defining link ends is given below:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">LinkEnds</span><span class="w"> </span><span class="n">oneWayLinkEnds</span><span class="p">;</span><span class="w"></span>
<span class="n">oneWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">transmitter</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Earth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Graz&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">oneWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">receiver</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;LRO&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This defines a link for which the ground station termed Graz on the boy called Earth acts as transmitter, and the body called LRO is used as the receiver (in this case placed at the body’s center of mass).</p>
<p>An example of link-ends for a two-way link from Graz to LRO and back to Graz is:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">LinkEnds</span><span class="w"> </span><span class="n">twoWayLinkEnds</span><span class="p">;</span><span class="w"></span>
<span class="n">twoWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">transmitter</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Earth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Graz&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">twoWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">reflector1</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;LRO&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">twoWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">receiver</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Earth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Graz&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Where the Graz station now acts as both transmitter and receiver. Similarly, the receiver may be different from the transmitter (in what is typically called a three-way observable in Deep Space tracking ), so:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">LinkEnds</span><span class="w"> </span><span class="n">twoWayLinkEnds</span><span class="p">;</span><span class="w"></span>
<span class="n">twoWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">transmitter</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Earth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Graz&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">twoWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">reflector1</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;LRO&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">twoWayLinkEnds</span><span class="p">[</span><span class="w"> </span><span class="n">receiver</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">make_pair</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Earth&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Matera&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>where the signal is transmitter by Graz station, retransmitter or reflected by LRO, and then received by the Matera station.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="observationModelSetup.html" class="btn btn-neutral float-right" title="4.2. Setting up Observation Models" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="4. Estimation Set-Up" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });

        var nav_top_height = Math.round($(".wy-side-nav-search").outerHeight())+2;
        $(".wy-nav-content-wrap").prepend("<div id='announcement'><p>⚠️ This website is now mostly outdated! ⚠️</p><p>Please visit <a href='https://tudat-space.readthedocs.io/en/latest'>tudat-space.readthedocs.io</a> instead.</p></div>");
        $("#announcement").css("height", String(nav_top_height) + "px");
        $(".rst-content").css("margin-top", String(nav_top_height) + "px");
    });
</script>


</body>
</html>