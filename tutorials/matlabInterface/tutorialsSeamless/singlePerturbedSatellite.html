

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Perturbed Earth-orbiting Satellite &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="Tutorials: Seamless" href="index.html"/>
        <link rel="next" title="Multiple propagations" href="multiplePropagations.html"/>
        <link rel="prev" title="Unperturbed Earth-orbiting Satellite" href="basicPropagation.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tudatFeatures/index.html">Tudat Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">MATLAB Interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Tutorials: Seamless</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="basicPropagation.html">Unperturbed Earth-orbiting Satellite</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Perturbed Earth-orbiting Satellite</a></li>
<li class="toctree-l4"><a class="reference internal" href="multiplePropagations.html">Multiple propagations</a></li>
<li class="toctree-l4"><a class="reference internal" href="innerSolarSystem.html">Inner Solar System Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="galileoConstellation.html">Galileo Constellation Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="thrustAlongVelocityVector.html">Thrust force along velocity vector</a></li>
<li class="toctree-l4"><a class="reference internal" href="thrustAccelerationFromFile.html">Thrust vector read from tabulated file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorialsInputOutput/index.html">Tutorials: Input-Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">MATLAB Interface</a> &raquo;</li>
        
          <li><a href="index.html">Tutorials: Seamless</a> &raquo;</li>
        
      <li>Perturbed Earth-orbiting Satellite</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/matlabInterface/tutorialsSeamless/singlePerturbedSatellite.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="perturbed-earth-orbiting-satellite">
<span id="matlabinterface-tutorialsseamless-singleperturbedsatellite"></span><h1>Perturbed Earth-orbiting Satellite<a class="headerlink" href="#perturbed-earth-orbiting-satellite" title="Permalink to this headline">¶</a></h1>
<p>This tutorial describes how to propagate the orbit of a perturbed satellite about Earth using the MATLAB Interface, similar to the example <a class="reference internal" href="../../applicationWalkthroughs/perturbedEarthOrbitingSatellite.html#walkthroughsperturbedearthorbitingsatellite"><span class="std std-ref">Perturbed Earth-orbiting Satellite</span></a> written in C++. The code for this example can be found at:</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>tudatBundle/matlabInterface/Examples/Seamless/singlePerturbedSatellite.m
</pre></div>
</div>
<p>The first step is to include the source code of the MATLAB Interface into MATLAB’s path in the current session so that all the classes needed to set up the simulation can be accessed. This is done by writing:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">tudat</span><span class="p">.</span><span class="n">load</span><span class="p">();</span>
</pre></div>
</div>
<p>Now, we create a <code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code> object and specify the initial and final epochs and the global frame orientation:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span> <span class="p">=</span> <span class="n">Simulation</span><span class="p">();</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">initialEpoch</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">finalEpoch</span> <span class="p">=</span> <span class="n">convert</span><span class="p">.</span><span class="n">toSI</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;d&#39;</span><span class="p">);</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">globalFrameOrientation</span> <span class="p">=</span> <span class="s">&#39;J2000&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>Note that the function <code class="docutils literal notranslate"><span class="pre">toSI</span></code> from the <code class="docutils literal notranslate"><span class="pre">convert</span></code> package has been used to convert 1 day to seconds. In this case, the global frame origin is not specified because the default value (<code class="docutils literal notranslate"><span class="pre">SSB</span></code>, Solar system barycentre) is to be used. However, for the global frame orientation the value of <code class="docutils literal notranslate"><span class="pre">J2000</span></code> is specified instead of the default <code class="docutils literal notranslate"><span class="pre">ECLIPJ2000</span></code>.</p>
<p>Next, we create the bodies. In this case, the only non-celestial body is <code class="docutils literal notranslate"><span class="pre">asterix</span></code>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">asterix</span> <span class="p">=</span> <span class="n">Body</span><span class="p">(</span><span class="s">&#39;asterix&#39;</span><span class="p">);</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">semiMajorAxis</span> <span class="p">=</span> <span class="mf">7500e3</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">eccentricity</span> <span class="p">=</span> <span class="mf">0.1</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">inclination</span> <span class="p">=</span> <span class="n">deg2rad</span><span class="p">(</span><span class="mf">85.3</span><span class="p">);</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">argumentOfPeriapsis</span> <span class="p">=</span> <span class="n">deg2rad</span><span class="p">(</span><span class="mf">235.7</span><span class="p">);</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">longitudeOfAscendingNode</span> <span class="p">=</span> <span class="n">deg2rad</span><span class="p">(</span><span class="mf">23.4</span><span class="p">);</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">trueAnomaly</span> <span class="p">=</span> <span class="n">deg2rad</span><span class="p">(</span><span class="mf">139.87</span><span class="p">);</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">mass</span> <span class="p">=</span> <span class="mi">400</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">referenceArea</span> <span class="p">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">dragCoefficient</span> <span class="p">=</span> <span class="mf">1.2</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">radiationPressureCoefficient</span> <span class="p">=</span> <span class="mf">1.2</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">radiationPressure</span><span class="p">.</span><span class="n">Sun</span><span class="p">.</span><span class="n">occultingBodies</span> <span class="p">=</span> <span class="p">{</span><span class="n">Earth</span><span class="p">};</span>
</pre></div>
</div>
<p>Now, we add the bodies to the simulation by calling the method <code class="docutils literal notranslate"><span class="pre">addBodies</span></code> of the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object. There exist predefined objects for celestial bodies (namely the Sun, the Moon and the eight planets), so these objects can be added directly without the need to specify their properties:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">addBodies</span><span class="p">(</span><span class="n">Sun</span><span class="p">,</span><span class="n">Earth</span><span class="p">,</span><span class="n">Moon</span><span class="p">,</span><span class="n">Mars</span><span class="p">,</span><span class="n">Venus</span><span class="p">,</span><span class="n">asterix</span><span class="p">);</span>
</pre></div>
</div>
<p>Now we need to specify the accelerations acting on <code class="docutils literal notranslate"><span class="pre">asterix</span></code>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">accelerationsOnAsterix</span><span class="p">.</span><span class="n">Earth</span> <span class="p">=</span> <span class="p">{</span><span class="n">SphericalHarmonicGravity</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">AerodynamicAcceleration</span><span class="p">()};</span>
<span class="n">accelerationsOnAsterix</span><span class="p">.</span><span class="n">Sun</span> <span class="p">=</span> <span class="p">{</span><span class="n">PointMassGravity</span><span class="p">(),</span> <span class="n">RadiationPressureAcceleration</span><span class="p">()};</span>
<span class="n">accelerationsOnAsterix</span><span class="p">.</span><span class="n">Moon</span> <span class="p">=</span> <span class="p">{</span><span class="n">PointMassGravity</span><span class="p">()};</span>
<span class="n">accelerationsOnAsterix</span><span class="p">.</span><span class="n">Mars</span> <span class="p">=</span> <span class="p">{</span><span class="n">PointMassGravity</span><span class="p">()};</span>
<span class="n">accelerationsOnAsterix</span><span class="p">.</span><span class="n">Venus</span> <span class="p">=</span> <span class="p">{</span><span class="n">PointMassGravity</span><span class="p">()};</span>
</pre></div>
</div>
<p>Then, we create the settings for the propagation. We are going to propagate the translational state of the body <code class="docutils literal notranslate"><span class="pre">asterix</span></code> about <code class="docutils literal notranslate"><span class="pre">Earth</span></code>. Thus, we use a <code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationalPropagator</span></code>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">propagator</span> <span class="p">=</span> <span class="n">TranslationalPropagator</span><span class="p">();</span>
<span class="n">propagator</span><span class="p">.</span><span class="n">bodiesToPropagate</span> <span class="p">=</span> <span class="p">{</span><span class="n">asterix</span><span class="p">};</span>
<span class="n">propagator</span><span class="p">.</span><span class="n">centralBodies</span> <span class="p">=</span> <span class="p">{</span><span class="n">Earth</span><span class="p">};</span>
<span class="n">propagator</span><span class="p">.</span><span class="n">accelerations</span><span class="p">.</span><span class="n">asterix</span> <span class="p">=</span> <span class="n">accelerationsOnAsterix</span><span class="p">;</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">propagators</span> <span class="p">=</span> <span class="p">{</span><span class="n">propagator</span><span class="p">};</span>
</pre></div>
</div>
<p>Then, we define the integrator settings, in this case we use a Runge-Kutta 4 integrator with a fixed step-size of 10 seconds:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">integrator</span><span class="p">.</span><span class="n">type</span> <span class="p">=</span> <span class="n">Integrators</span><span class="p">.</span><span class="n">rungeKutta4</span><span class="p">;</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">integrator</span><span class="p">.</span><span class="n">stepSize</span> <span class="p">=</span> <span class="mi">10</span><span class="p">;</span>
</pre></div>
</div>
<p>Finally, we specify the results to be saved:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">addResultsToSave</span><span class="p">(</span><span class="s">&#39;t&#39;</span><span class="p">,</span><span class="s">&#39;independent&#39;</span><span class="p">);</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">addResultsToSave</span><span class="p">(</span><span class="s">&#39;h&#39;</span><span class="p">,</span><span class="s">&#39;asterix.altitude-Earth&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The first variable, named <code class="docutils literal notranslate"><span class="pre">t</span></code>, represents the independent variable, i.e. the epoch (seconds since J2000). The second variable, named <code class="docutils literal notranslate"><span class="pre">h</span></code>, represents the altitude of <code class="docutils literal notranslate"><span class="pre">asterix</span></code> w.r.t. <code class="docutils literal notranslate"><span class="pre">Earth</span></code>.</p>
<p>All the settings needed to run the simulation have been defined. Thus, we can write:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
</pre></div>
</div>
<p>This method creates a temporary input file and calls the <code class="docutils literal notranslate"><span class="pre">json_interface</span></code> application, generating a temporary output file containing the values of the variables that were requested to be saved. Then, it loads these results into the struct <code class="docutils literal notranslate"><span class="pre">results</span></code> of the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object. Finally, all the temporary files are deleted.</p>
<p>After running the simulation, we can obtain the requested results from <code class="docutils literal notranslate"><span class="pre">simulation.results.t</span></code> and <code class="docutils literal notranslate"><span class="pre">simulation.results.h</span></code>, which are column vectors containing the values of these variables at each integration step. We can use the results to generate a plot of the altitude of <code class="docutils literal notranslate"><span class="pre">asterix</span></code>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">figure</span><span class="p">;</span>
<span class="n">plot</span><span class="p">(</span><span class="n">convert</span><span class="p">.</span><span class="n">epochToDate</span><span class="p">(</span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="n">t</span><span class="p">),</span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="n">h</span><span class="o">/</span><span class="mf">1e3</span><span class="p">);</span>
<span class="n">grid</span> <span class="s">on</span><span class="p">;</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;Altitude [km]&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Note the use of the <code class="docutils literal notranslate"><span class="pre">epochToDate</span></code> function of the <code class="docutils literal notranslate"><span class="pre">convert</span></code> package, which converts seconds since J2000 to a <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code> object.</p>
<p>Then, we can run another propagation just by modifying a few parameters. For instance, we can propagate the orbit of a satellite with a larger area and smaller mass, similar to a solar sail. We can do this by writing:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">asterix</span><span class="p">.</span><span class="n">mass</span> <span class="p">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">asterix</span><span class="p">.</span><span class="n">referenceArea</span> <span class="p">=</span> <span class="mi">40</span><span class="p">;</span>
<span class="n">simulation</span><span class="p">.</span><span class="n">run</span><span class="p">();</span>
</pre></div>
</div>
<p>Since the class <a class="reference internal" href="../../tudatFeatures/environmentSetup/setup.html#Body" title="Body"><code class="xref py py-class docutils literal notranslate"><span class="pre">Body</span></code></a> derives from <code class="xref py py-class docutils literal notranslate"><span class="pre">handle</span></code>, whose behaviour is similar to that of a shared pointer, when we modify the body <code class="docutils literal notranslate"><span class="pre">asterix</span></code>, the property <code class="docutils literal notranslate"><span class="pre">simulation.bodies.asterix</span></code> is updated automatically. Then, we can run the simulation again (with the updated properties) and use the new results to add a curve to the current plot:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">hold</span> <span class="s">on</span><span class="p">;</span>
<span class="n">plot</span><span class="p">(</span><span class="n">convert</span><span class="p">.</span><span class="n">epochToDate</span><span class="p">(</span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="n">t</span><span class="p">),</span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="n">h</span><span class="o">/</span><span class="mf">1e3</span><span class="p">);</span>
<span class="n">hold</span> <span class="s">off</span><span class="p">;</span>
<span class="n">legend</span><span class="p">(</span><span class="s">&#39;Satellite&#39;</span><span class="p">,</span><span class="s">&#39;Solar sail&#39;</span><span class="p">,</span><span class="s">&#39;Location&#39;</span><span class="p">,</span><span class="s">&#39;South&#39;</span><span class="p">,</span><span class="s">&#39;Orientation&#39;</span><span class="p">,</span><span class="s">&#39;Horizontal&#39;</span><span class="p">);</span>
</pre></div>
</div>
<img alt="../../../_images/singlePerturbedSatellite.png" src="../../../_images/singlePerturbedSatellite.png" />
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="multiplePropagations.html" class="btn btn-neutral float-right" title="Multiple propagations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basicPropagation.html" class="btn btn-neutral" title="Unperturbed Earth-orbiting Satellite" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });
    });
</script>


</body>
</html>