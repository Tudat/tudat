

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Unperturbed Earth-orbiting Satellite &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="Tutorials: Seamless" href="index.html"/>
        <link rel="next" title="Perturbed Earth-orbiting Satellite" href="singlePerturbedSatellite.html"/>
        <link rel="prev" title="Tutorials: Seamless" href="index.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tudatFeatures/index.html">Tudat Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">MATLAB Interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Tutorials: Seamless</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Unperturbed Earth-orbiting Satellite</a></li>
<li class="toctree-l4"><a class="reference internal" href="singlePerturbedSatellite.html">Perturbed Earth-orbiting Satellite</a></li>
<li class="toctree-l4"><a class="reference internal" href="multiplePropagations.html">Multiple propagations</a></li>
<li class="toctree-l4"><a class="reference internal" href="innerSolarSystem.html">Inner Solar System Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="galileoConstellation.html">Galileo Constellation Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="thrustAlongVelocityVector.html">Thrust force along velocity vector</a></li>
<li class="toctree-l4"><a class="reference internal" href="thrustAccelerationFromFile.html">Thrust vector read from tabulated file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorialsInputOutput/index.html">Tutorials: Input-Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">MATLAB Interface</a> &raquo;</li>
        
          <li><a href="index.html">Tutorials: Seamless</a> &raquo;</li>
        
      <li>Unperturbed Earth-orbiting Satellite</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/matlabInterface/tutorialsSeamless/basicPropagation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="unperturbed-earth-orbiting-satellite">
<span id="matlabinterface-tutorialsseamless-basicpropagation"></span><h1>Unperturbed Earth-orbiting Satellite<a class="headerlink" href="#unperturbed-earth-orbiting-satellite" title="Permalink to this headline">¶</a></h1>
<p>This tutorial describes how to propagate the orbit of an unperturbed satellite about Earth using the MATLAB Interface, similar (but not identical) to the example <a class="reference internal" href="../../applicationWalkthroughs/unperturbedEarthOrbitingSatellite.html#walkthroughsunperturbedearthorbitingsatellite"><span class="std std-ref">Unperturbed Earth-orbiting Satellite</span></a> written in C++. The code for this example can be found at:</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>tudatBundle/matlabInterface/Examples/Seamless/basicPropagation.m
</pre></div>
</div>
<p>The first step is to include the source code of the MATLAB Interface into MATLAB’s path in the current session so that all the classes needed to set up the simulation can be accessed. This is done by writing:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">tudat</span><span class="p">.</span><span class="n">load</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
<p>Now, we create a <code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code> object and specify the initial and final epochs:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Simulation</span><span class="p">();</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">initialEpoch</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">convert</span><span class="p">.</span><span class="n">dateToEpoch</span><span class="p">(</span><span class="s">&#39;1992-02-14 06:00&#39;</span><span class="p">);</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">finalEpoch</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">convert</span><span class="p">.</span><span class="n">dateToEpoch</span><span class="p">(</span><span class="s">&#39;1992-02-14 12:00&#39;</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Note that the function <code class="docutils literal notranslate"><span class="pre">dateToEpoch</span></code> from the <code class="docutils literal notranslate"><span class="pre">convert</span></code> package has been used. This function convert a date to seconds since J2000.</p>
<p>Next, we create the bodies. For an unperturbed orbit, the mass of the satellite is irrelevant, so we create a body named <code class="docutils literal notranslate"><span class="pre">satellite</span></code> with the following initial state:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">satellite</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Body</span><span class="p">(</span><span class="s">&#39;satellite&#39;</span><span class="p">);</span><span class="w"></span>
<span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">semiMajorAxis</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">7500e3</span><span class="p">;</span><span class="w"></span>
<span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">eccentricity</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">;</span><span class="w"></span>
<span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">inclination</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">deg2rad</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Note that some of the Keplerian components have been omitted, and thus they are assumed to be zero. The semi-major axis cannot be omitted when providing a Keplerian state.</p>
<p>Now, we add the bodies to the simulation by calling the method <code class="docutils literal notranslate"><span class="pre">addBodies</span></code> of the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object. There exist predefined objects for celestial bodies (namely the Sun, the Moon and the eight planets), so these objects can be added directly without the need to specify their properties:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">addBodies</span><span class="p">(</span><span class="n">Earth</span><span class="p">,</span><span class="n">satellite</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>In this case, we use the pre-defined body <code class="docutils literal notranslate"><span class="pre">Earth</span></code>, which is basically a <a class="reference internal" href="../../tudatFeatures/environmentSetup/setup.html#Body" title="Body"><code class="xref py py-class docutils literal notranslate"><span class="pre">Body</span></code></a> object named <code class="docutils literal notranslate"><span class="pre">Earth</span></code> with the property <code class="docutils literal notranslate"><span class="pre">useDefaultSettings</span></code> set to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>Then, we create the settings for the propagation. We are going to propagate the translational state of the body <code class="docutils literal notranslate"><span class="pre">satellite</span></code> about <code class="docutils literal notranslate"><span class="pre">Earth</span></code>. Thus, we use a <code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationalPropagator</span></code>:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">propagator</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">TranslationalPropagator</span><span class="p">();</span><span class="w"></span>
<span class="n">propagator</span><span class="p">.</span><span class="n">bodiesToPropagate</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">satellite</span><span class="p">};</span><span class="w"></span>
<span class="n">propagator</span><span class="p">.</span><span class="n">centralBodies</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">Earth</span><span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Now we need to specify the accelerations acting on <code class="docutils literal notranslate"><span class="pre">satellite</span></code>. The only accelerations are those caused by <code class="docutils literal notranslate"><span class="pre">Earth</span></code>, so we need to specify the property <code class="docutils literal notranslate"><span class="pre">propagator.accelerations.satellite.Earth</span></code>, which can be read as “accelerations on satellite caused by Earth”. In the case of an unperturbed orbit, the only acceleration is the point-mass gravitational attraction of the central body:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">propagator</span><span class="p">.</span><span class="n">accelerations</span><span class="p">.</span><span class="n">satellite</span><span class="p">.</span><span class="n">Earth</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">PointMassGravity</span><span class="p">()};</span><span class="w"></span>
</pre></div>
</div>
<p>Finally, we add the <code class="docutils literal notranslate"><span class="pre">propagator</span></code> to the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object and define the integrator settings:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">propagators</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">propagator</span><span class="p">};</span><span class="w"></span>

<span class="n">simulation</span><span class="p">.</span><span class="n">integrator</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Integrators</span><span class="p">.</span><span class="n">rungeKutta4</span><span class="p">;</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">integrator</span><span class="p">.</span><span class="n">stepSize</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>In this case we use a Runge-Kutta 4 integrator with a fixed step-size of 10 seconds.</p>
<p>All the settings needed to run the simulation have been defined. Thus, we can write:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">run</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
<p>This method creates a temporary input file and calls the <code class="docutils literal notranslate"><span class="pre">json_interface</span></code> application, generating a temporary output file containing the state of the satellite for each integration step. Then, it loads these results into the struct <code class="docutils literal notranslate"><span class="pre">results</span></code> of the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object. Finally, all the temporary files are deleted.</p>
<p>After running the simulation, if no specific results have been requested, we can obtain the numerical solution of the equations of motion from <code class="docutils literal notranslate"><span class="pre">simulation.results.numericalSolution</span></code>. This is a matrix containing in each row the results of an integration step. The first column contains the epochs, while the columns 2 to 7 contain the associated Cartesian states of the satellite.</p>
<p>We can use the results to generate a plot of the x, y and z components of the position of the satellite:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="n">numericalSolution</span><span class="p">(:,</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="n">r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.</span><span class="n">numericalSolution</span><span class="p">(:,</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">);</span><span class="w"></span>
<span class="nb">plot</span><span class="p">(</span><span class="n">convert</span><span class="p">.</span><span class="n">epochToDate</span><span class="p">(</span><span class="n">t</span><span class="p">),</span><span class="n">r</span><span class="o">/</span><span class="mf">1e3</span><span class="p">);</span><span class="w"></span>
<span class="n">grid</span><span class="w"> </span><span class="s">on</span><span class="p">;</span><span class="w"></span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;Distance [km]&#39;</span><span class="p">);</span><span class="w"></span>
<span class="nb">legend</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">,</span><span class="s">&#39;y&#39;</span><span class="p">,</span><span class="s">&#39;z&#39;</span><span class="p">,</span><span class="s">&#39;Location&#39;</span><span class="p">,</span><span class="s">&#39;South&#39;</span><span class="p">,</span><span class="s">&#39;Orientation&#39;</span><span class="p">,</span><span class="s">&#39;Horizontal&#39;</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<img alt="../../../_images/basicPropagation.png" src="../../../_images/basicPropagation.png" />
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="singlePerturbedSatellite.html" class="btn btn-neutral float-right" title="Perturbed Earth-orbiting Satellite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Tutorials: Seamless" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });

        var nav_top_height = Math.round($(".wy-side-nav-search").outerHeight())+2;
        $(".wy-nav-content-wrap").prepend("<div id='announcement'><p>⚠️ This website is now mostly outdated! ⚠️</p><p>Please visit <a href='https://tudat-space.readthedocs.io/en/latest'>tudat-space.readthedocs.io</a> instead.</p></div>");
        $("#announcement").css("height", String(nav_top_height) + "px");
        $(".rst-content").css("margin-top", String(nav_top_height) + "px");
    });
</script>


</body>
</html>