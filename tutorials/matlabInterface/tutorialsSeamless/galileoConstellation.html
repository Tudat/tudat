

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Galileo Constellation Propagation &mdash; TU Delft Astrodynamic Toolbox  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="TU Delft Astrodynamic Toolbox  documentation" href="../../../index.html"/>
        <link rel="up" title="Tutorials: Seamless" href="index.html"/>
        <link rel="next" title="Thrust force along velocity vector" href="thrustAlongVelocityVector.html"/>
        <link rel="prev" title="Inner Solar System Propagation" href="innerSolarSystem.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> TU Delft Astrodynamic Toolbox
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../index.html">Start Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials and Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../applicationWalkthroughs/index.html">Application Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tudatFeatures/index.html">Tudat Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basics/index.html">Tudat Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../jsonInterface/index.html">JSON Interface</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">MATLAB Interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Tutorials: Seamless</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="basicPropagation.html">Unperturbed Earth-orbiting Satellite</a></li>
<li class="toctree-l4"><a class="reference internal" href="singlePerturbedSatellite.html">Perturbed Earth-orbiting Satellite</a></li>
<li class="toctree-l4"><a class="reference internal" href="multiplePropagations.html">Multiple propagations</a></li>
<li class="toctree-l4"><a class="reference internal" href="innerSolarSystem.html">Inner Solar System Propagation</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Galileo Constellation Propagation</a></li>
<li class="toctree-l4"><a class="reference internal" href="thrustAlongVelocityVector.html">Thrust force along velocity vector</a></li>
<li class="toctree-l4"><a class="reference internal" href="thrustAccelerationFromFile.html">Thrust vector read from tabulated file</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../tutorialsInputOutput/index.html">Tutorials: Input-Output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference external" href="http://doxygen.tudat.tudelft.nl">Doxygen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/index.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../FAQ/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developerGuide/index.html">Developer Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">TU Delft Astrodynamic Toolbox</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Tutorials and Documentation</a> &raquo;</li>
        
          <li><a href="../index.html">MATLAB Interface</a> &raquo;</li>
        
          <li><a href="index.html">Tutorials: Seamless</a> &raquo;</li>
        
      <li>Galileo Constellation Propagation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/tutorials/matlabInterface/tutorialsSeamless/galileoConstellation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="galileo-constellation-propagation">
<span id="matlabinterface-tutorialsseamless-galileoconstellation"></span><h1>Galileo Constellation Propagation<a class="headerlink" href="#galileo-constellation-propagation" title="Permalink to this headline">¶</a></h1>
<p>This tutorial describes how to propagate the orbit of the satellites of the Galileo constellation using the MATLAB Interface. The code for this example can be found at:</p>
<div class="highlight-txt notranslate"><div class="highlight"><pre><span></span>tudatBundle/matlabInterface/Examples/Seamless/galileoConstellation.m
</pre></div>
</div>
<p>The first step is to include the source code of the MATLAB Interface into MATLAB’s path in the current session so that all the classes needed to set up the simulation can be accessed. This is done by writing:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">tudat</span><span class="p">.</span><span class="n">load</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
<p>Now, we create a <code class="xref py py-class docutils literal notranslate"><span class="pre">Simulation</span></code> object and specify the initial and final epochs and the global frame orientation:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Simulation</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">convert</span><span class="p">.</span><span class="n">toSI</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;d&#39;</span><span class="p">),</span><span class="s">&#39;SSB&#39;</span><span class="p">,</span><span class="s">&#39;J2000&#39;</span><span class="p">);</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">spice</span><span class="p">.</span><span class="n">preloadEphemeris</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>In this case, the simulation ranges from J2000 to 1 day later, using the solar system barycentre as the global frame origin and J2000 as global frame orientation. We disable preloading ephemeris of the celestial bodies from Spice because the only celestial body is Earth, so we can set its ephemeris to be constant and equal to a zero vector.</p>
<p>Next, we create the 30 satellites of the Galileo constellation, which are distributed in three orbital planes, and add them to the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">numberOfSatellites</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w"></span>
<span class="n">numberOfPlanes</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"></span>
<span class="n">numberOfSatellitesPerPlane</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">numberOfSatellites</span><span class="o">/</span><span class="n">numberOfPlanes</span><span class="p">;</span><span class="w"></span>
<span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="w"></span>
<span class="w">    </span><span class="n">simulation</span><span class="p">.</span><span class="n">addBodies</span><span class="p">(</span><span class="n">Body</span><span class="p">(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s">&#39;Satellite%i&#39;</span><span class="p">,</span><span class="nb">i</span><span class="p">)));</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
<span class="n">satelliteNames</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">fieldnames</span><span class="p">(</span><span class="n">simulation</span><span class="p">.</span><span class="n">bodies</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>We also retrieve a cell array containing the names of the bodies we have just created. The names of the bodies are <code class="docutils literal notranslate"><span class="pre">Satellite1</span></code>, <code class="docutils literal notranslate"><span class="pre">Satellite2</span></code>, … <code class="docutils literal notranslate"><span class="pre">Satellite30</span></code>.</p>
<p>The next step is to add the body <code class="docutils literal notranslate"><span class="pre">Earth</span></code>, using the predefined celestial body. Then, we redefine some of its properties (which will override the default settings loaded by Tudat), namely the ephemeris, which will be constant and equal to <code class="docutils literal notranslate"><span class="pre">[0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">0]</span></code> and we have to make its frame orientation coincide with the global frame orientation:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">addBodies</span><span class="p">(</span><span class="n">Earth</span><span class="p">);</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">bodies</span><span class="p">.</span><span class="n">Earth</span><span class="p">.</span><span class="n">ephemeris</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ConstantEphemeris</span><span class="p">(</span><span class="nb">zeros</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">bodies</span><span class="p">.</span><span class="n">Earth</span><span class="p">.</span><span class="n">ephemeris</span><span class="p">.</span><span class="n">frameOrientation</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&#39;J2000&#39;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>Now we need to specify the initial stat for each satellite. The semi-major axis (29600.1 km), eccentricity (0), inclination (56 deg) and argument of perigee (0) are the same for all the satellites. However, the longitude of the ascending nodes and the true anomalies aren’t:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">raans</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">mod</span><span class="p">(</span><span class="nb">floor</span><span class="p">(((</span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">numberOfSatellitesPerPlane</span><span class="p">),</span><span class="n">numberOfPlanes</span><span class="p">)</span><span class="o">*</span><span class="mi">360</span><span class="o">/</span><span class="n">numberOfPlanes</span><span class="p">;</span><span class="w"></span>
<span class="n">trueAnomalies</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">mod</span><span class="p">((</span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfSatellitesPerPlane</span><span class="p">)</span><span class="o">*</span><span class="mi">360</span><span class="o">/</span><span class="n">numberOfSatellitesPerPlane</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>For this case, <code class="docutils literal notranslate"><span class="pre">raans</span></code> is a vector containing the initial longitudes of the ascending nodes for each satellite, namely <code class="docutils literal notranslate"><span class="pre">0</span></code> for the first 10, <code class="docutils literal notranslate"><span class="pre">120</span></code> for satellites 11 to 20, and <code class="docutils literal notranslate"><span class="pre">240</span></code> for satellites 21 to 30. For each orbital plane, the satellites are evenly distributed, so the <code class="docutils literal notranslate"><span class="pre">trueAnomalies</span></code> vector is simply <code class="docutils literal notranslate"><span class="pre">linspace(0,360-360/10,10)</span></code> repeated 3 times (one for each orbital plane).</p>
<p>We set the initial state of each satellite by writing:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="w"></span>
<span class="w">    </span><span class="n">satellite</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulation</span><span class="p">.</span><span class="n">bodies</span><span class="p">.(</span><span class="n">satelliteNames</span><span class="p">{</span><span class="nb">i</span><span class="p">});</span><span class="w"></span>
<span class="w">    </span><span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">semiMajorAxis</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">23222e3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">6378.1e3</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">inclination</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">deg2rad</span><span class="p">(</span><span class="mi">56</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">longitudeOfAscendingNode</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">deg2rad</span><span class="p">(</span><span class="n">raans</span><span class="p">(</span><span class="nb">i</span><span class="p">));</span><span class="w"></span>
<span class="w">    </span><span class="n">satellite</span><span class="p">.</span><span class="n">initialState</span><span class="p">.</span><span class="n">trueAnomaly</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">deg2rad</span><span class="p">(</span><span class="n">trueAnomalies</span><span class="p">(</span><span class="nb">i</span><span class="p">));</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
</pre></div>
</div>
<p>Note that in the first line inside the loop, a <a class="reference internal" href="../../tudatFeatures/environmentSetup/setup.html#Body" title="Body"><code class="xref py py-class docutils literal notranslate"><span class="pre">Body</span></code></a> object is assigned to the variable <code class="docutils literal notranslate"><span class="pre">satellite</span></code>. Since the <a class="reference internal" href="../../tudatFeatures/environmentSetup/setup.html#Body" title="Body"><code class="xref py py-class docutils literal notranslate"><span class="pre">Body</span></code></a> class derives from <code class="xref py py-class docutils literal notranslate"><span class="pre">handle</span></code>, updating <code class="docutils literal notranslate"><span class="pre">satellite</span></code> also updates automatically <code class="docutils literal notranslate"><span class="pre">simulation.bodies.(satelliteNames{i})</span></code>.</p>
<p>Then, we create the settings for the propagation. We are going to propagate the translational state of the satellites. Thus, we use a <code class="xref py py-class docutils literal notranslate"><span class="pre">TranslationalPropagator</span></code>, and specify the accelerations acting on each body. The only acceleration acting on each body is just Earth’s spherical-harmonics gravitational attraction. We can define all the accelerations by writing a for-loop:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">propagator</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">TranslationalPropagator</span><span class="p">();</span><span class="w"></span>
<span class="n">propagator</span><span class="p">.</span><span class="n">bodiesToPropagate</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">satelliteNames</span><span class="p">;</span><span class="w"></span>
<span class="n">propagator</span><span class="p">.</span><span class="n">centralBodies</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">repmat</span><span class="p">({</span><span class="s">&#39;Earth&#39;</span><span class="p">},</span><span class="mi">1</span><span class="p">,</span><span class="n">numberOfSatellites</span><span class="p">);</span><span class="w"></span>
<span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="w"></span>
<span class="w">    </span><span class="n">propagator</span><span class="p">.</span><span class="n">accelerations</span><span class="p">.(</span><span class="n">satelliteNames</span><span class="p">{</span><span class="nb">i</span><span class="p">}).</span><span class="n">Earth</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">SphericalHarmonicGravity</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)};</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">propagators</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="n">propagator</span><span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>Note that the body <code class="docutils literal notranslate"><span class="pre">Earth</span></code> is taken as central body for all the satellites.</p>
<p>Then, we define the integrator settings, in this case we use a Runge-Kutta 4 integrator with a fixed step-size of 30 seconds:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">integrator</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Integrators</span><span class="p">.</span><span class="n">rungeKutta4</span><span class="p">;</span><span class="w"></span>
<span class="n">simulation</span><span class="p">.</span><span class="n">integrator</span><span class="p">.</span><span class="n">stepSize</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>Finally, we define the results to be saved. In this case, we are only interested in the relative position of each satellite with respect to Earth (and the corresponding epochs). Although this information could be retrieved from the matrix <code class="docutils literal notranslate"><span class="pre">simulation.results.numericalSolution</span></code> after running the simulation, we would need to determine which are the columns that correspond to the Cartesian position of each satellite. This is not difficult to do (using a loop, for instance), but we can avoid it by asking to save the following 30 variables:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="w"></span>
<span class="w">    </span><span class="n">simulation</span><span class="p">.</span><span class="n">addResultsToSave</span><span class="p">(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s">&#39;r%i&#39;</span><span class="p">,</span><span class="nb">i</span><span class="p">),</span><span class="nb">sprintf</span><span class="p">(</span><span class="s">&#39;%s.relativePosition-Earth&#39;</span><span class="p">,</span><span class="n">satelliteNames</span><span class="p">{</span><span class="nb">i</span><span class="p">}));</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
</pre></div>
</div>
<p>In this way, after running the simulation, we will be able to retrieve the relative positions of e.g. <code class="docutils literal notranslate"><span class="pre">Satellite14</span></code> from <code class="docutils literal notranslate"><span class="pre">simulation.results.r14</span></code>.</p>
<p>All the settings needed to run the simulation have been defined. Thus, we can write:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">simulation</span><span class="p">.</span><span class="n">run</span><span class="p">();</span><span class="w"></span>
</pre></div>
</div>
<p>This method creates a temporary input file and calls the <code class="docutils literal notranslate"><span class="pre">json_interface</span></code> application, generating a temporary output file containing the requested results. Then, it loads these results into the struct <code class="docutils literal notranslate"><span class="pre">results</span></code> of the <code class="docutils literal notranslate"><span class="pre">simulation</span></code> object. Finally, all the temporary files are deleted.</p>
<p>We can now generate a 3D plot showing the orbits of the satellites (by plotting the positions of the satellites for all the integration epochs) and we also add the body Earth (to scale, using its average radius) and the final positions of the 30 satellites of the Galileo constellation:</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% 3D plot of orbits</span><span class="w"></span>
<span class="n">colorIndices</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">mod</span><span class="p">(</span><span class="nb">floor</span><span class="p">(((</span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="n">numberOfSatellitesPerPlane</span><span class="p">),</span><span class="n">numberOfPlanes</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="n">colors</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">get</span><span class="p">(</span><span class="nb">groot</span><span class="p">,</span><span class="s">&#39;DefaultAxesColorOrder&#39;</span><span class="p">);</span><span class="w"></span>
<span class="nb">figure</span><span class="p">;</span><span class="w"></span>
<span class="n">hold</span><span class="w"> </span><span class="s">on</span><span class="p">;</span><span class="w"></span>
<span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellitesPerPlane</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="w"></span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s">&#39;r%i&#39;</span><span class="p">,</span><span class="nb">i</span><span class="p">))</span><span class="o">/</span><span class="mf">1e3</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">plot3</span><span class="p">(</span><span class="n">r</span><span class="p">(:,</span><span class="mi">1</span><span class="p">),</span><span class="n">r</span><span class="p">(:,</span><span class="mi">2</span><span class="p">),</span><span class="n">r</span><span class="p">(:,</span><span class="mi">3</span><span class="p">),</span><span class="s">&#39;Color&#39;</span><span class="p">,</span><span class="n">colors</span><span class="p">(</span><span class="n">colorIndices</span><span class="p">(</span><span class="nb">i</span><span class="p">),:));</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
<span class="nb">view</span><span class="p">(</span><span class="o">-</span><span class="mi">30</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span><span class="w"></span>
<span class="n">axis</span><span class="w"> </span><span class="s">equal</span><span class="p">;</span><span class="w"></span>
<span class="n">grid</span><span class="w"> </span><span class="s">on</span><span class="p">;</span><span class="w"></span>
<span class="nb">xlabel</span><span class="p">(</span><span class="s">&#39;X [km]&#39;</span><span class="p">);</span><span class="w"></span>
<span class="nb">ylabel</span><span class="p">(</span><span class="s">&#39;Y [km]&#39;</span><span class="p">);</span><span class="w"></span>
<span class="nb">zlabel</span><span class="p">(</span><span class="s">&#39;Z [km]&#39;</span><span class="p">);</span><span class="w"></span>

<span class="c">% Add Earth</span><span class="w"></span>
<span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">]</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nb">sphere</span><span class="p">;</span><span class="w"></span>
<span class="n">radius</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">Earth</span><span class="p">.</span><span class="n">averageRadius</span><span class="o">/</span><span class="mf">1e3</span><span class="p">;</span><span class="w"></span>
<span class="nb">surf</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">radius</span><span class="p">,</span><span class="n">y</span><span class="o">*</span><span class="n">radius</span><span class="p">,</span><span class="n">z</span><span class="o">*</span><span class="n">radius</span><span class="p">);</span><span class="w"></span>

<span class="c">% Add satellites at final positions</span><span class="w"></span>
<span class="k">for</span><span class="w"> </span><span class="nb">i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">:</span><span class="n">numberOfSatellites</span><span class="w"></span>
<span class="w">    </span><span class="n">r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">simulation</span><span class="p">.</span><span class="n">results</span><span class="p">.(</span><span class="nb">sprintf</span><span class="p">(</span><span class="s">&#39;r%i&#39;</span><span class="p">,</span><span class="nb">i</span><span class="p">))</span><span class="o">/</span><span class="mf">1e3</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nb">plot3</span><span class="p">(</span><span class="n">r</span><span class="p">(</span><span class="k">end</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">r</span><span class="p">(</span><span class="k">end</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">r</span><span class="p">(</span><span class="k">end</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s">&#39;.&#39;</span><span class="p">,</span><span class="s">&#39;Color&#39;</span><span class="p">,</span><span class="n">colors</span><span class="p">(</span><span class="n">colorIndices</span><span class="p">(</span><span class="nb">i</span><span class="p">),:),</span><span class="s">&#39;MarkerSize&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">);</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>
<span class="nb">hold</span><span class="w"> </span><span class="n">off</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<img alt="../../../_images/galileoConstellation.png" src="../../../_images/galileoConstellation.png" />
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="thrustAlongVelocityVector.html" class="btn btn-neutral float-right" title="Thrust force along velocity vector" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="innerSolarSystem.html" class="btn btn-neutral" title="Inner Solar System Propagation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Delft University of Technology.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/documentation_options.js"></script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header .arrow").click(function() {
            $(this).closest('.toggle').children().not(".header").toggle(400);
            $(this).toggleClass("open");
            // $(this).html() == "More" ? $(this).html('Less') : $(this).html('More');
        });
        $(".showall").click(function() {
            $(".toggle > *").show(400);
            $(".toggle .header .arrow").addClass("open");
        });
        $(".hideall").click(function() {
            $(".toggle > *").hide(400);
            $(".toggle .header").show(400);
            $(".toggle .header .arrow").removeClass("open");
        });

        var nav_top_height = Math.round($(".wy-side-nav-search").outerHeight())+2;
        $(".wy-nav-content-wrap").prepend("<div id='announcement'><p>⚠️ This website is now mostly outdated! ⚠️</p><p>Please visit <a href='https://tudat-space.readthedocs.io/en/latest'>tudat-space.readthedocs.io</a> instead.</p></div>");
        $("#announcement").css("height", String(nav_top_height) + "px");
        $(".rst-content").css("margin-top", String(nav_top_height) + "px");
    });
</script>


</body>
</html>